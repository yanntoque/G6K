(function(){"use strict";Date.msPERDAY=864e5;Date.locale="en-US";Date.easter=function(n){var r;try{if(n=Number(n),n!=n)throw new TypeError("Value must be a number.");else if(n>275760||n<-271820)throw new RangeError("Value be between -271820 and 275760 due to technical limitations of Date constructor.");}catch(s){console&&console.log(s)}n=Math.floor(n);var i=Math.floor(n/100),f=n-19*Math.floor(n/19),h=Math.floor((i-17)/25),t=i-Math.floor(i/4)-Math.floor((i-h)/3)+19*f+15;t=t-30*Math.floor(t/30);t=t-Math.floor(t/28)*(1-Math.floor(t/28)*Math.floor(29/(t+1))*Math.floor((21-f)/11));r=n+Math.floor(n/4)+t+2-i+Math.floor(i/4);r=r-7*Math.floor(r/7);var e=t-r,o=3+Math.floor((e+40)/44),c=e+28-31*Math.floor(o/4),u=new Date;return u.setFullYear(n,o-1,c),u.setHours(0,0,0,0),u};Date.nthDayOfMonth=function(n,t,i,r){for(var u=Date.createFromFormat("Y-n-j",r+"-"+i+"-01");u.getDay()!=t;)u.setDate(u.getDate()+1);return u.setDate(u.getDate()+(n-1)*7),u};Date.holidaysOfYear=function(n,t){var r="US",i,f,u;return t&&(i=t.split("-"),i=i[i.length-1].toUpperCase(),Date.holidays[i]&&(r=i)),f=Date.holidays[r].fixed_holidays,u=Date.holidays[r].moveable_holidays(n),$.each(f,function(t,i){u.push(Date.createFromFormat("Y-n-j",n+"-"+i))}),u};Date.prototype.msPERDAY=Date.msPERDAY;Date.prototype.copy=function(){return new Date(+this)};Date.prototype.workingDaysBefore=function(n){var i,r,e;if(n<this)return 0;i=this.copy();i.setHours(0,0,0,1);n.setHours(23,59,59,999);var o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),t=Math.ceil(o/this.msPERDAY)+1,s=Math.floor(t/7),t=t-s*2,u=i.getDay(),f=n.getDay();u-f>1&&(t=t-2);u==0&&f!=6&&(t=t-1);f==6&&u!=0&&(t=t-1);var h=Date.locale?Date.locale:"en-US",c=i.getFullYear(),l=n.getFullYear();for(i.setHours(0,0,0,0),r=c;r<=l;r++)e=Date.holidaysOfYear(r,h),$.each(e,function(r,u){var f=u.getDay();f!=0&&f!=6&&u>=i&&u<=n&&(t=t-1)});return t};Date.prototype.isWorkingDay=function(){var n=this.getDay();if(n==0||n==6)return!1;var i=Date.locale?Date.locale:"en-US",r=Date.holidaysOfYear(this.getFullYear(),i),t=!1,u=this;return $.each(r,function(n,i){if(i==u)return t=!0,!1}),!t};Date.prototype.nextWorkingDay=function(){for(var n=new Date(+this);!n.isWorkingDay();)n.addDays(1);return n};Date.prototype.firstDayOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1)};Date.prototype.lastDayOfMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0)};Date.prototype.lastday=function(){var n=new Date(this.getFullYear(),this.getMonth()+1,0);return n.getDate()};Date.prototype.getDaysBetween=function(n){var t=n.copy(),i;return t.setHours(this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds()),i=t.getTime()-this.getTime(),Math.ceil(i/this.msPERDAY)};Date.prototype.getDayOfYear=function(){var n=new Date(this.getFullYear(),0,0);return this.getDaysBetween(n)*-1};Date.prototype.getDaysInMonth=function(){var n=new Date(this.getFullYear(),this.getMonth()+1,0);return n.getDate()};Date.prototype.getWeekNumber=function(){var n=new Date(+this);return n.setHours(0,0,0),n.setDate(n.getDate()+4-(n.getDay()||7)),Math.ceil(((n-new Date(n.getFullYear(),0,1))/864e5+1)/7)};Date.prototype.isLeapYear=function(n){var t=n?this.getUTCFullYear():this.getFullYear();return!(t%4)&&t%100||!(t%400)?!0:!1};Date.prototype.addDays=function(n){return this.setTime(this.getTime()+n*Date.msPERDAY),this};Date.prototype.addWeeks=function(n){return this.addDays(n*7),this};Date.prototype.addMonths=function(n){var t=this.getDate();return this.setMonth(this.getMonth()+n),this.getDate()<t&&this.setDate(0),this};Date.prototype.addYears=function(n){var t=this.getMonth();return this.setFullYear(this.getFullYear()+n),t<this.getMonth()&&this.setDate(0),this};Date.prototype.addWeekDays=function(n){var r=this.getDay(),t=0,i=n%5,u;if(n<0){t=Math.ceil(n/5);switch(r){case 6:i==0&&t<0&&t++;break;case 0:i==0?n++:n--;break;default:i<=-r&&t--}}else if(n>0){t=Math.floor(n/5);u=t;switch(r){case 6:i==0?n--:n++;break;case 0:i==0&&t>0&&t--;break;default:5-day<i&&t++}}return n+=t*2,this.addDays(n),this};Date.prototype.getWeekDays=function(n){var u=0,i=Math.abs(this.getDaysBetween(n)),t=0,r=0;return i&&(n<this?(t=n.getDay(),r=this.getDay()):(t=this.getDay(),r=n.getDay()),u=Math.floor(i/7),t!=6&&t>r&&u++,t!=r&&(t==6||r==6)&&i--,i-=u*2),i};Date.prototype.getMonthsBetween=function(n){var i,r,u=this.getFullYear()*12+this.getMonth(),f=n.getFullYear()*12+n.getMonth(),e,t=0;if(this==n)t=0;else if(u==f)t=(n.getDate()-this.getDate())/this.lastday();else{u<f?(i=this,r=n,e=1):(i=n,r=this,e=-1);var o=i.lastday()-i.getDate(),s=r.getDate(),h=(o+s)/i.lastday()-1;t=Math.abs(f-u)+h;t=t*e}return t};Date.prototype.getYearsBetween=function(n){var t=this.getMonthsBetween(n);return t/12};Date.prototype.getAge=function(){var n=new Date;return this.getYearsBetween(n).toFixed(2)};Date.prototype.sameDayEachWeek=function(n,t){var r=[],u,i,f;for(this>t?(u=this,i=t.copy()):(u=t,i=this.copy()),f=(n-i.getDay()+7)%7,i.setDate(i.getDate()+f);i<u;)r[r.length]=i.copy(),i.setDate(i.getDate()+7);return r};Date.toDate=function(n){var i,t,r;if(arguments.length==0)i=new Date;else if(n instanceof Date)i=new Date(n.getTime());else if(typeof n=="string")i=new Date(n);else if(arguments.length>=3){for(t=[0,0,0,0,0,0],r=0;r<arguments.length&&r<7;r++)t[r]=arguments[r];i=new Date(t[0],t[1],t[2],t[3],t[4],t[5])}else i=typeof n=="number"?new Date(n):null;return i=="Invalid Date"?null:i};Date.prototype.setLocale=function(n){return n&&n in Date.locales&&(Date.locale=n),this};Date.prototype.getLocale=function(){return Date.locale||"en"};Date.prototype.getMonthName=function(n){var t="en";return n&&n in Date.locales?t=n:Date.locale&&Date.locale in Date.locales&&(t=Date.locale),Date.locales[t].month_names[this.getMonth()]};Date.prototype.getMonthNameShort=function(n){var t="en";return n&&n in Date.locales?t=n:Date.locale&&Date.locale in Date.locales&&(t=Date.locale),Date.locales[t].month_names_short[this.getMonth()]};Date.prototype.getDayName=function(n){var t="en";return n&&n in Date.locales?t=n:Date.locale&&Date.locale in Date.locales&&(t=Date.locale),Date.locales[t].day_names[this.getDay()]};Date.prototype.getDayNameShort=function(n){var t="en";return n&&n in Date.locales?t=n:Date.locale&&Date.locale in Date.locales&&(t=Date.locale),Date.locales[t].day_names_short[this.getDay()]};Date.prototype.getDateSuffix=function(n){var t="en";return n&&n in Date.locales?t=n:Date.locale&&Date.locale in Date.locales&&(t=Date.locale),Date.locales[t].date_suffix(this.getDate())};Date.prototype.getMeridiem=function(n,t){var i="en";return t&&t in Date.locales?i=t:Date.locale&&Date.locale in Date.locales&&(i=Date.locale),Date.locales[i].meridiem(this.getHours(),this.getMinutes(),n)};Date.prototype.getLastDate=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()};Date.locales={en:{month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],month_names_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_names_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],date_suffix:function(n){var i=~~(n%100/10),t=n%10;return i===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},meridiem:function(n,t,i){return n<12?i?"am":"AM":i?"pm":"PM"}},"ar-ma":{month_names:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),month_names_short:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),day_names:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),day_names_short:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},ar:{month_names:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),month_names_short:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),day_names:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),day_names_short:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},bg:{month_names:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),month_names_short:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),day_names:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),day_names_short:"нед_пон_вто_сря_чет_пет_съб".split("_"),date_suffix:function(n){var t=n%10,i=n%100;return n===0?"-ев":i===0?"-ен":i>10&&i<20?"-ти":t===1?"-ви":t===2?"-ри":t===7||t===8?"-ми":"-ти"},meridiem:function(){return""}},br:{month_names:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),month_names_short:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),day_names:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),day_names_short:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),date_suffix:function(n){return n===1?"añ":"vet"},meridiem:function(){return""}},bs:{month_names:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),month_names_short:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),day_names:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),day_names_short:"ned._pon._uto._sri._čet._pet._sub.".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},ca:{month_names:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),month_names_short:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),day_names:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),day_names_short:"dg._dl._dt._dc._dj._dv._ds.".split("_"),date_suffix:function(){return"º"},meridiem:function(){return""}},cs:{month_names:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),month_names_short:"led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),day_names:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),day_names_short:"ne_po_út_st_čt_pá_so".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},cv:{month_names:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),month_names_short:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),day_names:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),day_names_short:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),date_suffix:function(){return"-мĕш"},meridiem:function(){return""}},cy:{month_names:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),month_names_short:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),day_names:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),day_names_short:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),date_suffix:function(n){var t=n,i="";return t>20?i=t===40||t===50||t===60||t===80||t===100?"fed":"ain":t>0&&(i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),i},meridiem:function(){return""}},da:{month_names:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),month_names_short:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),day_names:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),day_names_short:"søn_man_tir_ons_tor_fre_lør".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},de:{month_names:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),month_names_short:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),day_names:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),day_names_short:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},el:{month_names:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),month_names_short:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),day_names:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),day_names_short:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),date_suffix:function(){return"η"},meridiem:function(n,t,i){return n>11?i?"μμ":"ΜΜ":i?"πμ":"ΠΜ"}},"en-au":{month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],month_names_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_names_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],date_suffix:function(n){var i=~~(n%100/10),t=n%10;return i===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},meridiem:function(n,t,i){return n<12?i?"am":"AM":i?"pm":"PM"}},"en-ca":{month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],month_names_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_names_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],date_suffix:function(n){var i=~~(n%100/10),t=n%10;return i===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},meridiem:function(n,t,i){return n<12?i?"am":"AM":i?"pm":"PM"}},"en-gb":{month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],month_names_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_names_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],date_suffix:function(n){var i=~~(n%100/10),t=n%10;return i===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},meridiem:function(n,t,i){return n<12?i?"am":"AM":i?"pm":"PM"}},eo:{month_names:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),month_names_short:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),day_names:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),day_names_short:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),date_suffix:function(){return"a"},meridiem:function(n,t,i){return n<12?i?"a.t.m.":"A.T.M.":i?"p.t.m.":"P.T.M."}},es:{month_names:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),month_names_short:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),day_names:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),day_names_short:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),date_suffix:function(){return"º"},meridiem:function(){return""}},et:{month_names:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),month_names_short:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),day_names:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),day_names_short:"P_E_T_K_N_R_L".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},eu:{month_names:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),month_names_short:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),day_names:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),day_names_short:"ig._al._ar._az._og._ol._lr.".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},fa:{month_names:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),month_names_short:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),day_names:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),day_names_short:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),meridiem:function(n){return n<12?"قبل از ظهر":"بعد از ظهر"},date_suffix:function(){return"م"}},fi:{month_names:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),month_names_short:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),day_names:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),day_names_short:"su_ma_ti_ke_to_pe_la".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},fo:{month_names:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),month_names_short:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),day_names:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),day_names_short:"sun_mán_týs_mik_hós_frí_ley".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},"fr-ca":{month_names:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),month_names_short:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),day_names:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),day_names_short:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),date_suffix:function(n){return n===1?"er":""},meridiem:function(){return""}},fr:{month_names:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),month_names_short:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),day_names:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),day_names_short:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),date_suffix:function(n){return n===1?"er":""},meridiem:function(){return""}},gl:{month_names:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),month_names_short:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),day_names:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),day_names_short:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),date_suffix:function(){return"º"},meridiem:function(){return""}},he:{month_names:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),month_names_short:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),day_names:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),day_names_short:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},hi:{month_names:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),month_names_short:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),day_names:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),day_names_short:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),meridiem:function(n){return n<4?"रात":n<10?"सुबह":n<17?"दोपहर":n<20?"शाम":"रात"},date_suffix:function(){return""}},hr:{month_names:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),month_names_short:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),day_names:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),day_names_short:"ned._pon._uto._sri._čet._pet._sub.".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},hu:{month_names:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),month_names_short:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),day_names:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),day_names_short:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),meridiem:function(n,t,i){return n<12?i===!0?"de":"DE":i===!0?"du":"DU"},date_suffix:function(){return"."}},"hy-am":{month_names:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),month_names_short:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),day_names:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),day_names_short:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),date_suffix:function(){return""},meridiem:function(n){return n<4?"գիշերվա":n<12?"առավոտվա":n<17?"ցերեկվա":"երեկոյան"}},id:{month_names:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),month_names_short:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),day_names:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),day_names_short:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),meridiem:function(n){return n<11?"pagi":n<15?"siang":n<19?"sore":"malam"},date_suffix:function(){return""}},is:{month_names:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),month_names_short:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),day_names:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),day_names_short:"sun_mán_þri_mið_fim_fös_lau".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},it:{month_names:"Gennaio_Febbraio_Marzo_Aprile_Maggio_Giugno_Luglio_Agosto_Settembre_Ottobre_Novembre_Dicembre".split("_"),month_names_short:"Gen_Feb_Mar_Apr_Mag_Giu_Lug_Ago_Set_Ott_Nov_Dic".split("_"),day_names:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),day_names_short:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),date_suffix:function(){return"º"},meridiem:function(){return""}},ja:{month_names:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),month_names_short:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),day_names:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),day_names_short:"日_月_火_水_木_金_土".split("_"),meridiem:function(n){return n<12?"午前":"午後"},date_suffix:function(){return""}},ka:{month_names:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),month_names_short:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),day_names:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),day_names_short:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),date_suffix:function(n){return n===0?"":n===1?"-ლი":n<20||n<=100&&n%20==0||n%100==0?"მე-":"-ე"},meridiem:function(){return""}},km:{month_names:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),month_names_short:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),day_names:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),day_names_short:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},ko:{month_names:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),month_names_short:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),day_names:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),day_names_short:"일_월_화_수_목_금_토".split("_"),date_suffix:function(){return"일"},meridiem:function(n){return n<12?"오전":"오후"}},lb:{month_names:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),month_names_short:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),day_names:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),day_names_short:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},lt:{month_names:"sausio_vasario_kovo_balandžio_gegužės_biržėlio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),month_names_short:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),day_names:"pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis_sekmadienis".split("_"),day_names_short:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),date_suffix:function(){return"-oji"},meridiem:function(){return""}},lv:{month_names:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),month_names_short:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),day_names:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),day_names_short:"Sv_P_O_T_C_Pk_S".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},mk:{month_names:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),month_names_short:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),day_names:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),day_names_short:"нед_пон_вто_сре_чет_пет_саб".split("_"),date_suffix:function(n){var t=n%10,i=n%100;return n===0?"-ев":i===0?"-ен":i>10&&i<20?"-ти":t===1?"-ви":t===2?"-ри":t===7||t===8?"-ми":"-ти"},meridiem:function(){return""}},ml:{month_names:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),month_names_short:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),day_names:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),day_names_short:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),meridiem:function(n){return n<4?"രാത്രി":n<12?"രാവിലെ":n<17?"ഉച്ച കഴിഞ്ഞ്":n<20?"വൈകുന്നേരം":"രാത്രി"},date_suffix:function(){return""}},mr:{month_names:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),month_names_short:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),day_names:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),day_names_short:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),meridiem:function(n){return n<4?"रात्री":n<10?"सकाळी":n<17?"दुपारी":n<20?"सायंकाळी":"रात्री"},date_suffix:function(){return""}},"ms-my":{month_names:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),month_names_short:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),day_names:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),day_names_short:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),meridiem:function(n){return n<11?"pagi":n<15?"tengahari":n<19?"petang":"malam"},date_suffix:function(){return""}},nb:{month_names:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),month_names_short:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),day_names:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),day_names_short:"sø._ma._ti._on._to._fr._lø.".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},ne:{month_names:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),month_names_short:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),day_names:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),day_names_short:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),meridiem:function(n){return n<3?"राती":n<10?"बिहान":n<15?"दिउँसो":n<18?"बेलुका":n<20?"साँझ":"राती"},date_suffix:function(){return""}},nl:{month_names:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),month_names_short:"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),day_names:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),day_names_short:"zo._ma._di._wo._do._vr._za.".split("_"),date_suffix:function(n){return n===1||n===8||n>=20?"ste":"de"},meridiem:function(){return""}},nn:{month_names:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),month_names_short:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),day_names:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),day_names_short:"sun_mån_tys_ons_tor_fre_lau".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},pl:{month_names:"styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),month_names_short:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),day_names:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),day_names_short:"nie_pon_wt_śr_czw_pt_sb".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},"pt-br":{month_names:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),month_names_short:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),day_names:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),day_names_short:"dom_seg_ter_qua_qui_sex_sáb".split("_"),date_suffix:function(){return"º"},meridiem:function(){return""}},pt:{month_names:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),month_names_short:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),day_names:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),day_names_short:"dom_seg_ter_qua_qui_sex_sáb".split("_"),date_suffix:function(){return"º"},meridiem:function(){return""}},ro:{month_names:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),month_names_short:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),day_names:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),day_names_short:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},ru:{month_names:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),month_names_short:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),day_names:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),day_names_short:"вс_пн_вт_ср_чт_пт_сб".split("_"),meridiem:function(n){return n<4?"ночи":n<12?"утра":n<17?"дня":"вечера"},date_suffix:function(){return"-го"}},sk:{month_names:"január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),month_names_short:"jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_"),day_names:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),day_names_short:"ne_po_ut_st_št_pi_so".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},sl:{month_names:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),month_names_short:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),day_names:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),day_names_short:"ned._pon._tor._sre._čet._pet._sob.".split("_"),date_suffix:function(){return"."},meridiem:function(){return""}},sq:{month_names:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),month_names_short:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),day_names:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),day_names_short:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),meridiem:function(n){return n<12?"PD":"MD"},date_suffix:function(){return"."}},"sr-cyr":{month_names:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],month_names_short:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],day_names:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],day_names_short:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],date_suffix:function(){return"."},meridiem:function(){return""}},sr:{month_names:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],month_names_short:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],day_names:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],day_names_short:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],date_suffix:function(){return"."},meridiem:function(){return""}},sv:{month_names:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),month_names_short:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),day_names:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),day_names_short:"sön_mån_tis_ons_tor_fre_lör".split("_"),date_suffix:function(n){var t=n%10;return~~(n%100/10)==1?"e":t===1?"a":t===2?"a":t===3?"e":"e"},meridiem:function(){return""}},ta:{month_names:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),month_names_short:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),day_names:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),day_names_short:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),date_suffix:function(){return"வது"},meridiem:function(n){return n>=6&&n<=10?" காலை":n>=10&&n<=14?" நண்பகல்":n>=14&&n<=18?" எற்பாடு":n>=18&&n<=20?" மாலை":n>=20&&n<=24?" இரவு":n>=0&&n<=6?" வைகறை":void 0}},th:{month_names:"มกราคม_กุม� าพันธ์_มีนาคม_เมษายน_พฤษ� าคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),month_names_short:"มกรา_กุม� า_มีนา_เมษา_พฤษ� า_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),day_names:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),day_names_short:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),meridiem:function(n){return n<12?"ก่อนเที่ยง":"หลังเที่ยง"},date_suffix:function(){return""}},"tl-ph":{month_names:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),month_names_short:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),day_names:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),day_names_short:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},tr:{month_names:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),month_names_short:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),day_names:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),day_names_short:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),date_suffix:function(n){if(n===0)return n+"'ıncı";var t=n%10,i=n%100-t,r=n>=100?100:null;return suffixes[t]||suffixes[i]||suffixes[r]},meridiem:function(){return""}},"tzm-la":{month_names:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),month_names_short:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),day_names:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),day_names_short:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},tzm:{month_names:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),month_names_short:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),day_names:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),day_names_short:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},uk:{month_names:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),month_names_short:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),day_names:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),day_names_short:"нд_пн_вт_ср_чт_пт_сб".split("_"),date_suffix:function(){return"-го"},meridiem:function(n){return n<4?"ночі":n<12?"ранку":n<17?"дня":"вечора"}},uz:{month_names:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),month_names_short:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),day_names:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),day_names_short:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},vi:{month_names:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),month_names_short:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),day_names:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),day_names_short:"CN_T2_T3_T4_T5_T6_T7".split("_"),date_suffix:function(){return""},meridiem:function(){return""}},"zh-cn":{month_names:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),month_names_short:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),day_names:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),day_names_short:"周日_周一_周二_周三_周四_周五_周六".split("_"),meridiem:function(n,t){var i=n*100+t;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},date_suffix:function(n){return n+"日"}},"zh-tw":{month_names:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),month_names_short:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),day_names:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),day_names_short:"週日_週一_週二_週三_週四_週五_週六".split("_"),meridiem:function(n,t){var i=n*100+t;return i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},date_suffix:function(n){return n+"日"}}};Date.holidays={FR:{fixed_holidays:["01-01","05-01","05-08","07-14","08-15","11-01","11-11","12-25"],moveable_holidays:function(n){var t=[],i=Date.easter(n);return t.push(i.copy()),t.push(i.addDays(1).copy()),t.push(i.addDays(38).copy()),t.push(i.addDays(10).copy()),t.push(i.addDays(1).copy()),t}},US:{fixed_holidays:[],moveable_holidays:function(){return[]}}};Date.prototype.format=function(n){for(var r=function(n,t){for(var u=n<0?"-":"",i="0",r=2;r<t;r++)i+="0";return u+(i+Math.abs(n).toString()).slice(-t)},e={date:this,d:function(){return r(this.date.getDate(),2)},D:function(){return this.date.getDayNameShort()},j:function(){return this.date.getDate()},l:function(){return this.date.getDayName()},N:function(){return this.date.getDay()+1},S:function(){return this.date.getDateSuffix()},w:function(){return this.date.getDay()},z:function(){return this.date.getDayOfYear()},W:function(){return this.date.getWeekNumber()},F:function(){return this.date.getMonthName()},m:function(){return r(this.date.getMonth()+1,2)},M:function(){return this.date.getMonthNameShort()},n:function(){return this.date.getMonth()+1},t:function(){return this.date.getDaysInMonth()},L:function(){return this.date.isLeapYear()?1:0},o:function(){return this.date.getFullYear()},Y:function(){return this.date.getFullYear()},y:function(){return this.date.getFullYear()%100},a:function(){return this.date.getMeridiem(!0)},A:function(){return this.date.getMeridiem(!1)},H:function(){return r(this.date.getHours(),2)},G:function(){return this.date.getHours()},h:function(){var n=this.date.getHours();return n>12?n-=12:n<1&&(n=12),r(n,2)},g:function(){var n=this.date.getHours();return n>12?n-=12:n<1&&(n=12),n},i:function(){return r(this.date.getMinutes(),2)},s:function(){return r(this.date.getSeconds(),2)},u:function(){return Math.floor(this.date.getMilliseconds()*1e3)},Z:function(){return this.date.getTimezoneOffset()*60},P:function(){return Math.floor(-this.date.getTimezoneOffset()/60)+":"+r(-this.date.getTimezoneOffset()%60,2)}},i=[],t,f,u;n.length>0;)if(n[0]==='"')t=/"[^"]*"/m.exec(n),t===null?(i.push(n.substring(1)),n=""):(t=t[0].substring(1,t[0].length-1),i.push(t),n=n.substring(t.length+2));else if(n[0]==="'")t=/'[^']*'/m.exec(n),t===null?(i.push(n.substring(1)),n=""):(t=t[0].substring(1,t[0].length-1),i.push(t),n=n.substring(t.length+2));else if(n[0]==="\\")n.length>1?(i.push(n.substring(1,2)),n=n.substring(2)):(i.push("\\"),n="");else{for(f=!1,u=n.length;u>0;u--)if(n.substring(0,u)in e){i.push(e[n.substring(0,u)]());n=n.substring(u);f=!0;break}f||(i.push(n[0]),n=n.substring(1))}return i.join("")};Date.createFromFormat=function(n,t){var h=new Date,i={date:h.getDate(),year:h.getFullYear(),month:h.getMonth(),hours:0,minutes:0,seconds:0,milliseconds:0},c,u,s,e,r,f;try{for(f=0;f<n.length;f++){c=n.charAt(f);switch(c){case"d":i.date=parseInt(t.substring(0,2),10);t=t.substring(2);break;case"j":e=parseInt(t.charAt(1),10);r=e>=0&&e<=9?2:1;i.date=parseInt(t.substring(0,r),10);t=t.substring(r);break;case"F":var o=Date.locales[this.getLocale()].month_names,r=o[0].length,l=t.substring(0,r);for(t=t.substring(r),u=0;u<12;u++)if(o[u]==l){i.month=u;break}break;case"M":var o=Date.locales[this.getLocale()].month_names_short,r=o[0].length,l=t.substring(0,r);for(t=t.substring(r),u=0;u<12;u++)if(o[u]==l){i.month=u;break}break;case"m":i.month=parseInt(t.substring(0,2),10)-1;t=t.substring(2);break;case"n":if(e=parseInt(t.charAt(1),10),r=e>=0&&e<=9?2:1,i.month=parseInt(t.substring(0,r),10)-1,i.month>11)throw new Error("Invalid month");t=t.substring(r);break;case"o":case"Y":i.year=parseInt(t.substring(0,4),10);t=t.substring(4);break;case"y":s=parseInt(t.substring(0,2),10);i.year=s>50?s+1900:s+2e3;t=t.substring(2);break;case"H":i.hours=parseInt(t.substring(0,2),10);t=t.substring(2);break;case"G":e=parseInt(t.charAt(1),10);r=e>=0&&e<=9?2:1;i.hours=parseInt(t.substring(0,r),10);t=t.substring(r);break;case"i":i.minutes=parseInt(t.substring(0,2),10);t=t.substring(2);break;case"s":i.seconds=parseInt(t.substring(0,2),10);t=t.substring(2);break;case"u":for(r=0,f=0;f<t.length;f++){if(t.charAt(f)<"0"||t.charAt(f)>"9")break;r++}i.milliseconds=parseInt(t.substring(0,r),10)/1e3;t=t.substring(r);break;default:t=t.substring(1)}}if(i.year>9999)throw"Invalid year";if(i.month>11)throw"Invalid month";if((i.year%4||!(i.year%100))&&i.year%400){if(i.date<1||i.month==1&&i.date>28)throw"Invalid day";}else if(i.date<1||i.month==1&&i.date>29)throw"Invalid day";if(i.hours>23)throw"Invalid hours";if(i.minutes>59)throw"Invalid minutes";if(i.seconds>59)throw"Invalid seconds";return new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds)}catch(a){throw"Date parsing error : "+a;}}})(),function(n){"use strict";function t(n,t){this.type=n;this.value=t}t.TYPE={T_UNDEFINED:0,T_NUMBER:1,T_DATE:2,T_BOOLEAN:3,T_TEXT:4,T_ANY:5,T_IDENT:6,T_FUNCTION:7,T_ARRAY:8,T_POPEN:9,T_PCLOSE:10,T_SBOPEN:11,T_SBCLOSE:12,T_COMMA:13,T_NOOP:14,T_PLUS:15,T_MINUS:16,T_TIMES:17,T_DIV:18,T_MOD:19,T_POW:20,T_UNARY_PLUS:21,T_UNARY_MINUS:22,T_NOT:23,T_FIELD:24,T_EQUAL:25,T_NOT_EQUAL:26,T_LESS_THAN:27,T_LESS_OR_EQUAL:28,T_GREATER_THAN:29,T_GREATER_OR_EQUAL:30,T_CONTAINS:31,T_NOT_CONTAINS:32,T_BITWISE_AND:33,T_BITWISE_OR:34,T_BITWISE_XOR:35,T_LOGICAL_AND:36,T_LOGICAL_OR:37,T_TERNARY:38,T_TERNARY_ELSE:39,T_DEGRE:40,A_NONE:0,A_LEFT:1,A_RIGHT:2};t.prototype={isUnaryOperator:function(){switch(this.type){case t.TYPE.T_NOT:case t.TYPE.T_UNARY_PLUS:case t.TYPE.T_UNARY_MINUS:case t.TYPE.T_TERNARY_ELSE:case t.TYPE.T_DEGRE:return!0}return!1},isBinaryOperator:function(){switch(this.type){case t.TYPE.T_POW:case t.TYPE.T_TIMES:case t.TYPE.T_DIV:case t.TYPE.T_MOD:case t.TYPE.T_PLUS:case t.TYPE.T_MINUS:case t.TYPE.T_BITWISE_AND:case t.TYPE.T_BITWISE_OR:case t.TYPE.T_BITWISE_XOR:case t.TYPE.T_LOGICAL_AND:case t.TYPE.T_LOGICAL_OR:return!0}return!1},isTernaryOperator:function(){switch(this.type){case t.TYPE.T_TERNARY:return!0}return!1},isOperator:function(){return this.isUnaryOperator()||this.isBinaryOperator()||this.isTernaryOperator()},isComparator:function(){switch(this.type){case t.TYPE.T_EQUAL:case t.TYPE.T_NOT_EQUAL:case t.TYPE.T_LESS_THAN:case t.TYPE.T_LESS_OR_EQUAL:case t.TYPE.T_GREATER_THAN:case t.TYPE.T_GREATER_OR_EQUAL:case t.TYPE.T_CONTAINS:case t.TYPE.T_NOT_CONTAINS:return!0}return!1},isVariable:function(){switch(this.type){case t.TYPE.T_IDENT:case t.TYPE.T_FIELD:case t.TYPE.T_UNDEFINED:return!0}return!1},isUndefined:function(){return this.type==t.TYPE.T_UNDEFINED},isBeforeFunctionArgument:function(){switch(this.type){case t.TYPE.T_POPEN:case t.TYPE.T_COMMA:case t.TYPE.T_NOOP:return!0}return!1},precedence:function(){switch(this.type){case t.TYPE.T_POPEN:case t.TYPE.T_PCLOSE:case t.TYPE.T_POW:return 1;case t.TYPE.T_NOT:case t.TYPE.T_UNARY_PLUS:case t.TYPE.T_UNARY_MINUS:case t.TYPE.T_DEGRE:return 2;case t.TYPE.T_TIMES:case t.TYPE.T_DIV:case t.TYPE.T_MOD:return 3;case t.TYPE.T_PLUS:case t.TYPE.T_MINUS:return 4;case t.TYPE.T_LESS_THAN:case t.TYPE.T_LESS_OR_EQUAL:case t.TYPE.T_GREATER_THAN:case t.TYPE.T_GREATER_OR_EQUAL:return 6;case t.TYPE.T_EQUAL:case t.TYPE.T_NOT_EQUAL:case t.TYPE.T_CONTAINS:case t.TYPE.T_NOT_CONTAINS:return 7;case t.TYPE.T_BITWISE_AND:return 8;case t.TYPE.T_BITWISE_XOR:return 9;case t.TYPE.T_BITWISE_OR:return 10;case t.TYPE.T_LOGICAL_AND:return 11;case t.TYPE.T_LOGICAL_OR:return 12;case t.TYPE.T_TERNARY_ELSE:return 13;case t.TYPE.T_TERNARY:return 14;case t.TYPE.T_COMMA:return 15}return 16},associativity:function(){switch(this.type){case t.TYPE.T_POW:case t.TYPE.T_NOT:case t.TYPE.T_UNARY_PLUS:case t.TYPE.T_UNARY_MINUS:return t.TYPE.A_RIGHT;case t.TYPE.T_DEGRE:case t.TYPE.T_TIMES:case t.TYPE.T_DIV:case t.TYPE.T_MOD:case t.TYPE.T_PLUS:case t.TYPE.T_MINUS:case t.TYPE.T_LESS_THAN:case t.TYPE.T_LESS_OR_EQUAL:case t.TYPE.T_GREATER_THAN:case t.TYPE.T_GREATER_OR_EQUAL:case t.TYPE.T_EQUAL:case t.TYPE.T_NOT_EQUAL:case t.TYPE.T_CONTAINS:case t.TYPE.T_NOT_CONTAINS:case t.TYPE.T_BITWISE_AND:case t.TYPE.T_BITWISE_XOR:case t.TYPE.T_BITWISE_OR:case t.TYPE.T_LOGICAL_AND:case t.TYPE.T_LOGICAL_OR:case t.TYPE.T_TERNARY:return t.TYPE.A_LEFT;case t.TYPE.T_TERNARY_ELSE:return t.TYPE.A_RIGHT;case t.TYPE.T_COMMA:return t.TYPE.A_LEFT}return t.TYPE.A_NONE},toString:function(){switch(this.type){case t.TYPE.T_DATE:return this.value.format("d/m/Y");case t.TYPE.T_BOOLEAN:return this.value?"true":"false";case t.TYPE.T_FUNCTION:return this.value;case t.TYPE.T_ARRAY:return JSON.stringify(this.value);default:return this.value.toString()}}};n.Token=t}(this),function(n){"use strict";function t(n){this.expression=n;this.tokens=[];this.postfixed=!1}t.prototype={get:function(){return this.tokens},push:function(n){this.tokens.push(n)},pop:function(){return this.tokens.pop()},peek:function(){return this.tokens[this.tokens.length-1]},postfix:function(){var n=[],t=[];for($.each(this.tokens,function(i,r){switch(r.type){case Token.TYPE.T_COMMA:while(n.length!=0&&n[n.length-1].type!=Token.TYPE.T_POPEN)t.push(n.pop());break;case Token.TYPE.T_NUMBER:case Token.TYPE.T_DATE:case Token.TYPE.T_BOOLEAN:case Token.TYPE.T_TEXT:case Token.TYPE.T_ANY:case Token.TYPE.T_IDENT:case Token.TYPE.T_FIELD:case Token.TYPE.T_ARRAY:case Token.TYPE.T_UNDEFINED:t.push(r);break;case Token.TYPE.T_PCLOSE:while(n.length!=0&&n[n.length-1].type!=Token.TYPE.T_POPEN)t.push(n.pop());if(n.length==0)throw new Error("Closing parenthesis without opening parenthesis");n.pop();n.length!=0&&n[n.length-1].type==Token.TYPE.T_FUNCTION&&t.push(n.pop());break;case Token.TYPE.T_POPEN:case Token.TYPE.T_FUNCTION:n.push(r);break;default:if(r.isOperator()||r.isComparator()){while(n.length!=0&&(n[n.length-1].isOperator()||n[n.length-1].isComparator())&&(r.associativity()==Token.TYPE.A_LEFT&&r.precedence()>=n[n.length-1].precedence()||r.associativity()==Token.TYPE.A_RIGHT&&r.precedence()>n[n.length-1].precedence()))t.push(n.pop());n.push(r)}else throw new Error("Unrecognized token "+r.value);}});n.length!=0&&n[n.length-1].type!=Token.TYPE.T_POPEN;)t.push(n.pop());if(n.length!=0)throw new Error("Opening parenthesis without closing parenthesis");this.tokens=t;this.postfixed=!0},setFields:function(n){$.each(this.tokens,function(t,i){if(i.type==Token.TYPE.T_FIELD&&n.length>=i.value){var r=n[i.value-1];$.isArray(r)?(i.type=Token.TYPE.T_ARRAY,i.value=r):$.isNumeric(r)?(i.type=Token.TYPE.T_NUMBER,i.value=parseFloat(r)):r.match(/^\d{1,2}\/\d{1,2}\/\d{4}/)?(i.type=Token.TYPE.T_DATE,i.value=Date.createFromFormat("j/n/Y",r)):r==="true"||r==="false"?(i.type=Token.TYPE.T_BOOLEAN,i.value=r==="true"):(i.type=Token.TYPE.T_TEXT,i.value=r)}})},setNamedFields:function(n){$.each(this.tokens,function(t,i){if(i.type==Token.TYPE.T_IDENT&&typeof n[i.value]!="undefined"&&n[i.value]!==null){var r=n[i.value];$.isArray(r)?(i.type=Token.TYPE.T_ARRAY,i.value=r):$.isNumeric(r)?(i.type=Token.TYPE.T_NUMBER,i.value=parseFloat(r)):r.match(/^\d{1,2}\/\d{1,2}\/\d{4}/)?(i.type=Token.TYPE.T_DATE,i.value=Date.createFromFormat("j/n/Y",r)):r==="true"||r==="false"?(i.type=Token.TYPE.T_BOOLEAN,i.value=r==="true"):(i.type=Token.TYPE.T_TEXT,i.value=r)}})},setVariables:function(n){var t=!0;return $.each(this.tokens,function(i,r){var u;r.type==Token.TYPE.T_FIELD?(u=n[""+r.value],typeof u=="undefined"||u===null||u.length==0?t=!1:$.isArray(u)?(r.type=Token.TYPE.T_ARRAY,r.value=u):$.isNumeric(u)?(r.type=Token.TYPE.T_NUMBER,r.value=parseFloat(u)):/^\d{1,2}\/\d{1,2}\/\d{4}/.test(u)?(r.type=Token.TYPE.T_DATE,r.value=Date.createFromFormat("j/n/Y",u)):u==="true"||u==="false"?(r.type=Token.TYPE.T_BOOLEAN,r.value=u==="true"):(r.type=Token.TYPE.T_TEXT,r.value=u)):r.type==Token.TYPE.T_IDENT&&(u=n[r.value],typeof u=="undefined"||u===null||u.length==0?t=!1:$.isArray(u)?(r.type=Token.TYPE.T_ARRAY,r.value=u):$.isNumeric(u)?(r.type=Token.TYPE.T_NUMBER,r.value=parseFloat(u)):/^\d{1,2}\/\d{1,2}\/\d{4}/.test(u)?(r.type=Token.TYPE.T_DATE,r.value=Date.createFromFormat("j/n/Y",u)):u==="true"||u==="false"?(r.type=Token.TYPE.T_BOOLEAN,r.value=u==="true"):(r.type=Token.TYPE.T_TEXT,r.value=u))}),t},evaluate:function(){var n,t,i;try{return n=[],t=this,$.each(this.tokens,function(i,r){if(r.isOperator())n.push(t.operation(r,n));else if(r.isComparator())n.push(t.comparison(r,n));else switch(r.type){case Token.TYPE.T_NUMBER:case Token.TYPE.T_DATE:case Token.TYPE.T_BOOLEAN:case Token.TYPE.T_TEXT:case Token.TYPE.T_ANY:case Token.TYPE.T_IDENT:case Token.TYPE.T_FIELD:case Token.TYPE.T_ARRAY:case Token.TYPE.T_UNDEFINED:n.push(r);break;case Token.TYPE.T_FUNCTION:n.push(t.func(r,n));break;default:throw new Error("Unrecognized token "+r.value);}}),i=n[n.length-1],i.isVariable()?!1:""+i}catch(r){return!1}},operation:function(n,t){var r,i,u,f;if(n.isUnaryOperator()){if(t.length<1)throw new Error("Illegal number ("+t.length+") of operands for "+n);i=t.pop()}else if(n.isBinaryOperator()){if(t.length<2)throw new Error("Illegal number ("+t.length+") of operands for "+n);r=t.pop();i=t.pop()}else if(n.isTernaryOperator()){if(t.length<3)throw new Error("Illegal number ("+t.length+") of operands for "+n);var e=t.pop(),r=t.pop(),i=t.pop()}u=new Token(Token.TYPE.T_NUMBER,0);switch(n.type){case Token.TYPE.T_PLUS:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type==Token.TYPE.T_NUMBER)if(r.type==Token.TYPE.T_NUMBER)u.value=i.value+r.value;else if(r.type==Token.TYPE.T_DATE)f=r.value,f.addDays(i.value),u.type=Token.TYPE.T_DATE,u.value=f;else if(r.type==Token.TYPE.T_TEXT)u.type=Token.TYPE.T_TEXT,u.value=i.value.toString()+r.value;else throw new Error("Illegal argument '"+r+"' for "+n);else if(i.type==Token.TYPE.T_DATE)if(r.type==Token.TYPE.T_NUMBER)f=i.value,f.addDays(r.value),u.type=Token.TYPE.T_DATE,u.value=f;else if(r.type==Token.TYPE.T_TEXT)u.type=Token.TYPE.T_TEXT,u.value=i.value.format("d/m/Y")+r.value;else throw new Error("Illegal argument '"+r+"' for "+n);else if(i.type==Token.TYPE.T_TEXT)if(u.type=Token.TYPE.T_TEXT,r.type==Token.TYPE.T_NUMBER)u.value=i.value+r.value.toString();else if(r.type==Token.TYPE.T_DATE)u.value=i.value+r.value.format("d/m/Y");else if(r.type==Token.TYPE.T_TEXT)u.value=i.value+r.value;else throw new Error("Illegal argument '"+r+"' for "+n);else throw new Error("Illegal argument '"+i+"' for "+n);break;case Token.TYPE.T_MINUS:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type==Token.TYPE.T_NUMBER)if(r.type==Token.TYPE.T_NUMBER)u.value=i.value-r.value;else throw new Error("Illegal argument '"+r+"' for "+n);else if(i.type==Token.TYPE.T_DATE)if(r.type==Token.TYPE.T_NUMBER)f=i.value,f.addDays(-r.value),u.type=Token.TYPE.T_DATE,u.value=f;else if(r.type==Token.TYPE.T_DATE)u.value=i.value>r.value?r.value.getDaysBetween(i.value):0;else throw new Error("Illegal argument '"+r+"' for "+n);else throw new Error("Illegal argument '"+i+"' for "+n);break;case Token.TYPE.T_TIMES:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type!=Token.TYPE.T_NUMBER||r.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument '"+r+"' : operands must be numbers for "+n);else u.value=i.value*r.value;break;case Token.TYPE.T_DIV:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type!=Token.TYPE.T_NUMBER||r.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument : operands must be numbers for "+n);else u.value=i.value/r.value;break;case Token.TYPE.T_MOD:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type!=Token.TYPE.T_NUMBER||r.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument : operands must be numbers for "+n);else u.value=i.value%r.value;break;case Token.TYPE.T_POW:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type!=Token.TYPE.T_NUMBER||r.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument : operands must be numbers for "+n);else u.value=Math.pow(i.value,r.value);break;case Token.TYPE.T_BITWISE_AND:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type!=Token.TYPE.T_NUMBER||r.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument : operands must be numbers for "+n);else u.value=i.value&r.value;break;case Token.TYPE.T_BITWISE_XOR:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type!=Token.TYPE.T_NUMBER||r.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument : operands must be numbers for "+n);else u.value=i.value^r.value;break;case Token.TYPE.T_BITWISE_OR:if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else if(i.type!=Token.TYPE.T_NUMBER||r.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument : operands must be numbers for "+n);else u.value=i.value|r.value;break;case Token.TYPE.T_LOGICAL_AND:if(u.type=Token.TYPE.T_BOOLEAN,i.type==Token.TYPE.T_BOOLEAN&&r.type==Token.TYPE.T_BOOLEAN)u.value=i.value&&r.value;else if(i.type==Token.TYPE.T_BOOLEAN)if(i.value)if(r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else throw new Error("Illegal argument 2 : operand must be boolean for "+n);else u.value=!1;else if(r.type==Token.TYPE.T_BOOLEAN)if(r.value)if(i.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else throw new Error("Illegal argument 1 : operand must be boolean for "+n);else u.value=!1;else if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else throw new Error("Illegal argument : operands must be boolean for "+n);break;case Token.TYPE.T_LOGICAL_OR:if(u.type=Token.TYPE.T_BOOLEAN,i.type==Token.TYPE.T_BOOLEAN&&r.type==Token.TYPE.T_BOOLEAN)u.value=i.value||r.value;else if(i.type==Token.TYPE.T_BOOLEAN)if(i.value)u.value=!0;else if(r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else throw new Error("Illegal argument 2 : operand must be boolean for "+n);else if(r.type==Token.TYPE.T_BOOLEAN)if(r.value)u.value=!0;else if(i.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else throw new Error("Illegal argument 1 : operand must be boolean for "+n);else if(i.isVariable()||r.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r];else throw new Error("Illegal argument : operands must be boolean for "+n);break;case Token.TYPE.T_UNARY_PLUS:if(i.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i];else if(i.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument '"+i+"' : operand must be a number for "+n);else u.value=i.value;break;case Token.TYPE.T_UNARY_MINUS:if(i.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i];else if(i.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument '"+i+"' : operand must be a number for "+n);else u.value=-i.value;break;case Token.TYPE.T_NOT:if(i.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i];else if(i.type!=Token.TYPE.T_NUMBER&&i.type!=Token.TYPE.T_BOOLEAN)throw new Error("Illegal argument '"+i+"' : operand must be a number or a boolean for "+n);else u.type=i.type,u.value=!i.value;break;case Token.TYPE.T_DEGRE:if(i.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i];else if(i.type!=Token.TYPE.T_NUMBER)throw new Error("Illegal argument '"+i+"' : operand must be a number for "+n);else u.value=i.value*Math.PI/180;break;case Token.TYPE.T_TERNARY_ELSE:u=i;break;case Token.TYPE.T_TERNARY:if(i.isVariable())u.type=Token.TYPE.T_UNDEFINED,u.value=[i,r,e];else if(i.type!=Token.TYPE.T_BOOLEAN)throw new Error("Illegal argument '"+i+"' : operand 1 must be a condition for "+n);else u=i.value?r:e}return this.guessType(u),u},comparison:function(n,t){if(t.length<2)throw new Error("Illegal number ("+t.length+") of operands for "+n);var r=t.pop(),i=t.pop(),u;if(i.isVariable()||r.isVariable())u=new Token(Token.TYPE.T_UNDEFINED,[i,r]);else if(n.type!=Token.TYPE.T_CONTAINS&&i.type!=r.type)throw new Error("operand types for '"+n+"' are not identical");else if(n.type==Token.TYPE.T_CONTAINS&&i.type!=Token.TYPE.T_ARRAY)throw new Error("first operand type for '"+n+"' is not an array");else{u=new Token(Token.TYPE.T_BOOLEAN,!1);switch(n.type){case Token.TYPE.T_EQUAL:u.value=i.value==r.value;break;case Token.TYPE.T_NOT_EQUAL:u.value=i.value!=r.value;break;case Token.TYPE.T_LESS_THAN:u.value=i.value<r.value;break;case Token.TYPE.T_LESS_OR_EQUAL:u.value=i.value<=r.value;break;case Token.TYPE.T_GREATER_THAN:u.value=i.value>r.value;break;case Token.TYPE.T_GREATER_OR_EQUAL:u.value=i.value>=r.value;break;case Token.TYPE.T_CONTAINS:u.value=$.isArray(i.value)&&$.inArray(r.value.toString(),i.value)>=0;break;case Token.TYPE.T_NOT_CONTAINS:u.value=!$.isArray(i.value)||$.inArray(r.value.toString(),i.value)<0}}return u},guessType:function(n){n.type==Token.TYPE.T_TEXT&&($.isNumeric(n.value)?(n.type=Token.TYPE.T_NUMBER,n.value=parseFloat(n.value)):/^\d{1,2}\/\d{1,2}\/\d{4}/.test(n.value)?(n.type=Token.TYPE.T_DATE,n.value=Date.createFromFormat("j/n/Y",n.value)):(n.value==="true"||n.value==="false")&&(n.type=Token.TYPE.T_BOOLEAN,n.value=n.value==="true"))},func:function(n,t){var f={abs:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.abs(n)}],acos:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.acos(n)}],acosh:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.acosh(n)}],addMonths:[2,[Token.TYPE.T_NUMBER,Token.TYPE.T_DATE],Token.TYPE.T_DATE,function(n,t){return t.addMonths(n)}],asin:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.asin(n)}],asinh:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.asinh(n)}],atan:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.atan(n)}],atan2:[2,[Token.TYPE.T_NUMBER,Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n,t){return Math.atan2(n,t)}],atanh:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.atanh(n)}],concat:[-1,[Token.TYPE.T_TEXT],Token.TYPE.T_TEXT,function(n){var t="";return $.each(n,function(n,i){t+=i!==undefined?i:""}),t}],ceil:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.ceil(n)}],cos:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.cos(n)}],cosh:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.cosh(n)}],count:[-1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){var t=0;return $.each(n,function(n,i){i!==undefined&&(t+=1)}),t}],day:[1,[Token.TYPE.T_DATE],Token.TYPE.T_NUMBER,function(n){return n.getDate()}],exp:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.exp(n)}],firstDayOfMonth:[1,[Token.TYPE.T_DATE],Token.TYPE.T_DATE,function(n){return n.firstDayOfMonth()}],floor:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.floor(n)}],fullmonth:[1,[Token.TYPE.T_DATE],Token.TYPE.T_TEXT,function(n){return n.getMonthName("fr")+" "+n.format("Y")}],get:[2,[Token.TYPE.T_ARRAY,Token.TYPE.T_NUMBER],Token.TYPE.T_TEXT,function(n,t){return t<n.lengh+1?n[t-1]:""}],lastday:[2,[Token.TYPE.T_NUMBER,Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n,t){var i=Date.createFromFormat("Y-n-j",n+"-"+t+"-1");return i.lastday(!1)}],lastDayOfMonth:[1,[Token.TYPE.T_DATE],Token.TYPE.T_DATE,function(n){return n.lastDayOfMonth()}],length:[1,[Token.TYPE.T_TEXT],Token.TYPE.T_NUMBER,function(n){return n.length}],log:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.log(n)}],log10:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.log10(n)}],lower:[1,[Token.TYPE.T_TEXT],Token.TYPE.T_TEXT,function(n){return n.toLowerCase()}],match:[2,[Token.TYPE.T_TEXT,Token.TYPE.T_TEXT],Token.TYPE.T_BOOLEAN,function(n,t){return t.match(n)!=null}],max:[2,[Token.TYPE.T_NUMBER,Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n,t){return Math.max(n,t)}],min:[2,[Token.TYPE.T_NUMBER,Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n,t){return Math.min(n,t)}],money:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_TEXT,function(n){return accounting.formatNumber(n,2," ",",").toString()}],month:[1,[Token.TYPE.T_DATE],Token.TYPE.T_NUMBER,function(n){return n.getMonth()+1}],nextWorkDay:[1,[Token.TYPE.T_DATE],Token.TYPE.T_DATE,function(n){return n.nextWorkingDay()}],pow:[2,[Token.TYPE.T_NUMBER,Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n,t){return Math.pow(n,t)}],rand:[0,[],Token.TYPE.T_NUMBER,function(){return Math.random()}],replace:[3,[Token.TYPE.T_TEXT,Token.TYPE.T_TEXT,Token.TYPE.T_TEXT],Token.TYPE.T_TEXT,function(n,t,i){return i.replace(n,t)}],round:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.round(n)}],sin:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.sin(n)}],sinh:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.sinh(n)}],size:[1,[Token.TYPE.T_ARRAY],Token.TYPE.T_NUMBER,function(n){return n.length}],split:[2,[Token.TYPE.T_TEXT,Token.TYPE.T_TEXT],Token.TYPE.T_ARRAY,function(n,t){return t.split(n)}],sqrt:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.sqrt(n)}],substr:[3,[Token.TYPE.T_TEXT,Token.TYPE.T_NUMBER,Token.TYPE.T_NUMBER],Token.TYPE.T_TEXT,function(n,t,i){return n.substr(t,i)}],sum:[-1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){var t=0;return $.each(n,function(n,i){i!==undefined&&(t+=i)}),t}],tan:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.tan(n)}],tanh:[1,[Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n){return Math.tanh(n)}],upper:[1,[Token.TYPE.T_TEXT],Token.TYPE.T_TEXT,function(n){return n.toUpperCase()}],workdays:[2,[Token.TYPE.T_DATE,Token.TYPE.T_DATE],Token.TYPE.T_NUMBER,function(n,t){return n.workingDaysBefore(t)}],workdaysofmonth:[2,[Token.TYPE.T_NUMBER,Token.TYPE.T_NUMBER],Token.TYPE.T_NUMBER,function(n,t){var i=Date.createFromFormat("Y-n-j",n+"-"+t+"-1"),r=new Date(i.getFullYear(),i.getMonth()+1,0);return i.workingDaysBefore(r)}],year:[1,[Token.TYPE.T_DATE],Token.TYPE.T_NUMBER,function(n){return n.getFullYear()}]},r,o,e,i,s,u;if(n.value==="defined"){if(t.length<1)throw new Error("Illegal number ("+t.length+") of operands for function"+n);return(i=t.pop(),i.isVariable())?new Token(Token.TYPE.T_BOOLEAN,!1):typeof i.value=="undefined"||i.value===null||i.value===""?new Token(Token.TYPE.T_BOOLEAN,!1):new Token(Token.TYPE.T_BOOLEAN,!0)}if(typeof f[n.value]=="undefined"||f[n.value]===null)throw new Error("Unknown function : "+n);if(r=f[n.value][0],o=!1,r==-1&&(r=t.length,o=!0),t.length<r)throw new Error("Illegal number ("+t.length+") of operands for function"+n);for(e=[];r>0;--r){if(i=t.pop(),o)i.isVariable()&&(i.value=undefined);else{if(i.isVariable())return new Token(Token.TYPE.T_UNDEFINED,[i]);if(s=f[n.value][1][r-1],i.type!=s){u="";switch(s){case Token.TYPE.T_NUMBER:u="number";break;case Token.TYPE.T_DATE:u="date";break;case Token.TYPE.T_BOOLEAN:u="boolean";break;case Token.TYPE.T_TEXT:u="text";break;case Token.TYPE.T_ARRAY:u="array"}throw new Error("Illegal type for argument '"+i+"' : operand must be a "+u+" for "+n);}}e.unshift(i.value)}return o&&(e=[e]),new Token(f[n.value][2],f[n.value][3].apply(this,e))}};n.Expression=t}(this),function(n){"use strict";function i(){this.text=[]}var r=/([\s!,\+\-\*\/\^%\(\)\[\]=<\>\~\&\^\|\?\:°])/g,t={"+":Token.TYPE.T_PLUS,"-":Token.TYPE.T_MINUS,"/":Token.TYPE.T_DIV,"%":Token.TYPE.T_MOD,"(":Token.TYPE.T_POPEN,")":Token.TYPE.T_PCLOSE,"[":Token.TYPE.T_SBOPEN,"]":Token.TYPE.T_SBCLOSE,"*":Token.TYPE.T_TIMES,"!":Token.TYPE.T_NOT,",":Token.TYPE.T_COMMA,"=":Token.TYPE.T_EQUAL,"<":Token.TYPE.T_LESS_THAN,">":Token.TYPE.T_GREATER_THAN,"~":Token.TYPE.T_CONTAINS,"&":Token.TYPE.T_BITWISE_AND,"^":Token.TYPE.T_BITWISE_XOR,"|":Token.TYPE.T_BITWISE_OR,"?":Token.TYPE.T_TERNARY,":":Token.TYPE.T_TERNARY_ELSE,"°":Token.TYPE.T_DEGRE};i.prototype={parse:function(n){var e={pi:new Token(Token.TYPE.T_NUMBER,Math.PI),now:new Token(Token.TYPE.T_DATE,new Date),today:new Token(Token.TYPE.T_DATE,new Date),"true":new Token(Token.TYPE.T_BOOLEAN,!0),"false":new Token(Token.TYPE.T_BOOLEAN,!1)},u=new Expression(n),f=this,o,i;return n=n.replace(/('[^']*')/g,function(n,t){return f.text.push(t.substr(1,t.length-2)),"¤"+f.text.length}),n=n.replace(/("[^"]*")/g,function(n,t){return f.text.push(t.substr(1,t.length-2)),"¤"+f.text.length}),n=n.replace(/(\d{1,2})\/(\d{1,2})\/(\d{4})/g,"D$1.$2.$3"),o=n.split(r),i=new Token(Token.TYPE.T_NOOP,"noop"),$.each(o,function(n,r){var s,h,c,o;if(r=r.replace(/^\s+|\s+$/g,""),$.isNumeric(r))i.type==Token.TYPE.T_PCLOSE&&u.push(new Token(Token.TYPE.T_TIMES,"*")),u.push(i=new Token(Token.TYPE.T_NUMBER,parseFloat(r)));else if(r.match(/^#\d+/))i.type==Token.TYPE.T_PCLOSE&&u.push(new Token(Token.TYPE.T_TIMES,"*")),u.push(i=new Token(Token.TYPE.T_FIELD,parseInt(r.substr(1),10)));else if(s=r.match(/^¤(\d+)/))i.type==Token.TYPE.T_PCLOSE&&u.push(new Token(Token.TYPE.T_TIMES,"*")),h=parseInt(s[1],10),u.push(i=new Token(Token.TYPE.T_TEXT,f.text[h-1]));else if(s=r.match(/^D(\d{1,2})\.(\d{1,2})\.(\d{4})/))i.type==Token.TYPE.T_PCLOSE&&u.push(new Token(Token.TYPE.T_TIMES,"*")),c=Date.createFromFormat("j/n/Y",s[1]+"/"+s[2]+"/"+s[3]),u.push(i=new Token(Token.TYPE.T_DATE,c));else if(e[r])i.type==Token.TYPE.T_PCLOSE&&u.push(new Token(Token.TYPE.T_TIMES,"*")),u.push(i=e[r]);else if(r!==""){switch(o=t[r]?t[r]:Token.TYPE.T_IDENT){case Token.TYPE.T_EQUAL:switch(i.type){case Token.TYPE.T_NOT:u.pop();o=Token.TYPE.T_NOT_EQUAL;r="!=";break;case Token.TYPE.T_LESS_THAN:u.pop();o=Token.TYPE.T_LESS_OR_EQUAL;r="<=";break;case Token.TYPE.T_GREATER_THAN:u.pop();o=Token.TYPE.T_GREATER_OR_EQUAL;r=">="}break;case Token.TYPE.T_CONTAINS:if(i.type==Token.TYPE.T_NOT){u.pop();o=Token.TYPE.T_NOT_CONTAINS;r="!~";break}case Token.TYPE.T_BITWISE_AND:i.type==Token.TYPE.T_BITWISE_AND&&(u.pop(),o=Token.TYPE.T_LOGICAL_AND,r="&&");break;case Token.TYPE.T_BITWISE_OR:i.type==Token.TYPE.T_BITWISE_OR&&(u.pop(),o=Token.TYPE.T_LOGICAL_OR,r="||");break;case Token.TYPE.T_TIMES:i.type==Token.TYPE.T_TIMES&&(u.pop(),o=Token.TYPE.T_POW,r="**");break;case Token.TYPE.T_PLUS:(i.isOperator()||i.isComparator()||i.isBeforeFunctionArgument())&&(o=Token.TYPE.T_UNARY_PLUS);break;case Token.TYPE.T_MINUS:(i.isOperator()||i.isComparator()||i.isBeforeFunctionArgument())&&(o=Token.TYPE.T_UNARY_MINUS);break;case Token.TYPE.T_POPEN:switch(i.type){case Token.TYPE.T_IDENT:i.type=Token.TYPE.T_FUNCTION;break;case Token.TYPE.T_NUMBER:case Token.TYPE.T_DATE:case Token.TYPE.T_BOOLEAN:case Token.TYPE.T_TEXT:case Token.TYPE.T_ARRAY:case Token.TYPE.T_PCLOSE:u.push(new Token(Token.TYPE.T_TIMES,"*"))}break;case Token.TYPE.T_SBOPEN:n=u.pop();u.push(new Token(Token.TYPE.T_FUNCTION,"get"));u.push(new Token(Token.TYPE.T_POPEN,"("));u.push(n);o=Token.TYPE.T_COMMA;r=",";break;case Token.TYPE.T_SBCLOSE:o=Token.TYPE.T_PCLOSE;r="("}u.push(i=new Token(o,r))}}),u}};n.ExpressionParser=i}(this),function(n){"use strict";function i(n){this.rulesData=n.rulesData||[];this.actionsAdapter=n.actionsAdapter}function t(n){this.data=n}function r(n,t){for(var r,u=t.fields||[],i=0;i<u.length;i++)if(r=u[i],r.name===n)return r;return null}i.prototype={runAll:function(n,t){var i=this;$.each(i.rulesData,function(r){i.run(r,n,t)})},run:function(n,t,i){var r=this,u=r.rulesData[n],e,f;if(r.ifActions=u.ifActions||[],r.elseActions=u.elseActions||[],r.conditions=u.conditions||{all:[]},r.matches(t,function(n,t){e=t;f=n;n||(t?r.runIfActions(r.actionsAdapter):r.runElseActions(r.actionsAdapter));i&&i(n,t)}),!i){if(f)throw f;return e}},matches:function(n,t){var f=new ExpressionParser,r=f.parse(this.conditions),i,u;if(r.postfix(),r.setVariables(n),i=r.evaluate(),i===!1)u="Syntax error",t&&t(u,i);else if(t)t(null,i==="true");else return i==="true"},runIfActions:function(n){for(var i=0;i<this.ifActions.length;i++){var r=this.ifActions[i],f=r.value,u=n[f];u&&u(new t(r))}},runElseActions:function(n){for(var i=0;i<this.elseActions.length;i++){var r=this.elseActions[i],f=r.value,u=n[f];u&&u(new t(r))}}};t.prototype={find:function(){for(var i,n=this.data,t=0;t<arguments.length;t++)if(i=arguments[t],n=r(i,n),!n)return null;return n.value}};n.RuleEngine=i}(this),function(n){"use strict";function t(n,t,i){this.isDynamic=n;this.isMobile=t;this.locale=Date.locale=i;this.parser=new ExpressionParser;this.rulesengine=null;this.simu=null;this.currentProfil=null;this.variables={};this.sourcesCaches={};this.urisCaches={};this.lastUserInputName="";this.hasFatalError=!1;this.hasGlobalError=!1;this.hasError=!1;this.basePath=window.location.pathname.replace(/\/[^\/]+$/,"")}t.prototype={run:function(){var n=this,t,i;if(this.variables.script=1,$("div.help-panel dl dt").append('<a title="Fermer" href="javascript:">X<\/a>'),$("div.help-panel dl dt a").click(function(){$(this).parents(".help-panel").collapse("hide")}),$("input[type='reset'], button[type='reset']").click(function(){$("#g6k_form").clearForm();$("input.resettable").val("");n.isDynamic&&(n.variables={},$.each(n.simu.datas,function(t,i){if(n.getData(t).modifiedByUser=!1,$("#"+t+".output").text(""),n.resetDataValue(i),n.removeError(t),n.removeWarning(t),typeof i.unparsedContent!="undefined"&&i.unparsedContent!==""){var r=n.evaluate(i.unparsedContent);r!==!1&&(r&&i.type==="multichoice"&&!$.isArray(r)&&(r=/\[\]$/.test(r)?JSON.parse(r):[r]),n.variables[t]=i.value=r)}n.reevaluateFields(t)}),n.removeGlobalError(),$("div.foot-notes").children("div.foot-note").filter(":visible").length?$("div.foot-notes").show():$("div.foot-notes").hide())}),t=$(".step-page .collapse-expand-all-tools button:first-child"),i=$(".step-page .collapse-expand-all-tools button:last-child"),t.bind("click",function(n){var t=$(this).parents(".step-panel-container");return t.find(".chapter-label > h3 > button.btn-collapse[aria-expanded=true]").trigger("click"),n.stopPropagation(),!1}),i.bind("click",function(n){var t=$(this).parents(".step-panel-container");return t.find(".chapter-label > h3 > button.btn-collapse[aria-expanded=false]").trigger("click"),n.stopPropagation(),!1}),$(".disposition-classic select, .disposition-grid select").each(function(){this.hasAttribute("data-widget")||$(this).listbox()}),this.isDynamic){var r=$("input[name=view]").eq(0).val(),u=$("input[name=step]").eq(0).val(),f=$("input[name=_csrf_token]").eq(0).val(),e=$(location).attr("pathname").replace("/"+r,"").replace(/\/+$/,"")+"/Default/fields",n=this;$.post(e,{stepId:u,_csrf_token:f},function(t){n.simu=t;n.processFields()},"json").fail(function(t,i){(t.status!=0&&t.status!=200||i==="timeout")&&n.setFatalError(Translator.trans("Data to continue this simulation are not accessible. Please try again later."))})}},setProfile:function(n){var t=this,i=n.attr("data-profile-id");(t.currentProfil==null||t.currentProfil.attr("data-profile-id")!=i)&&(t.currentProfil!=null&&t.currentProfil.removeClass("active"),t.currentProfil=n,n.addClass("active"),$.each(t.simu.profiles.profiles,function(n,r){r.id==i&&$.each(r.datas,function(n,i){t.setValue(i.name,i.default)})}))},normalizeName:function(n){return/\[\]$/.test(n)&&(n=n.substr(0,n.length-2)),n},getData:function(n){n=this.normalizeName(n);return this.simu.datas[n]},getDataNameById:function(n){var t=null;return $.each(this.simu.datas,function(i,r){if(r.id==n)return t=i,!1}),t},isVisible:function(n){var t=$("input[name='"+n+"']");return t.hasClass("listbox-input")&&(t=t.parent()),t.is(":visible")},check:function(n){if(!n||!n.value||n.value.length==0)return!0;switch(n.type){case"date":if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(n.value))return!1;try{var t=Date.createFromFormat("j/n/Y",n.value)}catch(i){return!1}break;case"money":if(!/^-{0,1}\d+(\.\d{1,2})?$/.test(n.value))return!1;break;case"integer":if(!/^\d+$/.test(n.value))return!1;break;case"number":case"percent":if(!/^-{0,1}\d*\.{0,1}\d+$/.test(n.value))return!1}return!0},validate:function(n){var r=!0,t,i;if(n=this.normalizeName(n),t=this.getData(n),t.inputField&&(i=this.simu.step.panels[t.inputField[0]].fields[t.inputField[1]],i.usage==="input"))if(this.removeError(n),this.removeWarning(n),this.check(t))i.required&&(!t.value||t.value.length==0)?this.setError(n,Translator.trans("The '%field%' field is required",{field:i.label},"messages")):i.visibleRequired&&this.isVisible(n)&&(!t.value||t.value.length==0)&&this.setError(n,Translator.trans("The '%field%' field is required",{field:i.label},"messages"));else{r=!1;switch(t.type){case"date":this.setError(n,Translator.trans("This value is not in the expected format (%format%)",{format:"jj/mm/aaaa"},"messages"));break;case"number":this.setError(n,Translator.trans("This value is not in the expected format (%format%)",{format:"chiffres seulement"},"messages"));break;case"integer":this.setError(n,Translator.trans("This value is not in the expected format (%format%)",{format:"chiffres seulement"},"messages"));break;case"money":this.setError(n,Translator.trans("This value is not in the expected format (%format%)",{format:"montant"},"messages"));break;case"percent":this.setError(n,Translator.trans("This value is not in the expected format (%format%)",{format:"pourcentage"},"messages"));break;default:this.setError(n,Translator.trans("This value is not in the expected format"))}}return r},setGlobalWarning:function(n){$("#global-error").hasClass("has-error")||($("#global-error").removeClass("hidden").addClass("has-warning").html(n),$("#global-error").show())},removeGlobalWarning:function(){$("#global-error").hasClass("has-error")||($("#global-error").addClass("hidden").removeClass("has-warning").text(""),$("#global-error").hide())},setGroupWarning:function(n,t){var i=$("#"+n+"-error");i.hasClass("has-error")||(i.removeClass("hidden").addClass("has-warning").html(t),i.show())},removeGroupWarning:function(n){var t=$("#"+n+"-error");t.hasClass("has-error")||(t.addClass("hidden").removeClass("has-warning").text(""),t.hide())},setWarning:function(n,t){var u=this,i=$("#"+n+"-container"),r=i.is(":visible");$("input[name="+n+"], input[type=checkbox], select[name="+n+"]").each(function(){if($(this).is(":checkbox")){var t=u.normalizeName($(this).attr("name"));if(t!=n)return!0}r&&!$(this).hasClass("has-error")&&($(this).addClass("has-warning"),$(this).parent(".input-group").removeClass("hidden").addClass("has-warning"),$(this).focus())});this.getData(n).datagroup?this.setGroupWarning(this.getData(n).datagroup,t):r&&(i.find("div.field-error").last().removeClass("hidden").addClass("has-warning").html(t),i.show(),i.parent().show(),this.hasWarning=!0)},removeWarning:function(n){var i=this,t;this.getData(n).datagroup?this.removeGroupWarning(this.getData(n).datagroup):(t=$("#"+n+"-container"),t.find("div.field-error").last().addClass("hidden").removeClass("has-warning").text(""));$("input[name="+n+"], input[type=checkbox], select[name="+n+"]").each(function(){if($(this).is(":checkbox")){var t=i.normalizeName($(this).attr("name"));if(t!=n)return!0}$(this).removeClass("has-warning");$(this).parent(".input-group").removeClass("has-warning")})},setFatalError:function(n){this.hasFatalError=!0;this.hasGlobalError=!0;this.hasError=!0;$("#global-error").addClass("fatal-error");$("#g6k_form input, #g6k_form select, #g6k_form textarea").prop("disabled",!0);$("#global-error").removeClass("hidden").addClass("has-error").html(n);$("#global-error").show()},setGlobalError:function(n){this.hasGlobalError=!0;this.hasError=!0;$("#global-error").removeClass("hidden").addClass("has-error").html(n);$("#global-error").show()},removeGlobalError:function(){$("#g6k_form input, #g6k_form select, #g6k_form textarea").prop("disabled",!1);$("#global-error").addClass("hidden").removeClass("has-error").text("");$("#global-error").hide();this.hasGlobalError=!1},setGroupError:function(n,t){this.hasError=!0;var i=$("#"+n+"-error");i.removeClass("hidden").addClass("has-error").html(t);i.show()},removeGroupError:function(n){var t=$("#"+n+"-error");t.addClass("hidden").removeClass("has-error").text("");t.hide()},setError:function(n,t){var u=this,i=$("#"+n+"-container"),r=i.is(":visible");$("input[name="+n+"], input[type=checkbox], select[name="+n+"]").each(function(){if($(this).is(":checkbox")){var t=u.normalizeName($(this).attr("name"));if(t!=n)return!0}r&&($(this).addClass("has-error"),$(this).parent(".input-group").removeClass("hidden").addClass("has-error"),$(this).attr("aria-invalid",!0),$(this).focus())});this.getData(n).datagroup?this.setGroupError(this.getData(n).datagroup,t):r&&(i.find("div.field-error").last().removeClass("hidden").addClass("has-error").html(t),i.show(),i.parent().show(),this.hasError=!0)},removeError:function(n){var i=this,t;this.getData(n).datagroup?this.removeGroupError(this.getData(n).datagroup):(t=$("#"+n+"-container"),t.find("div.field-error").last().addClass("hidden").removeClass("has-error").text(""));$("input[name="+n+"], input[type=checkbox], select[name="+n+"]").each(function(){if($(this).is(":checkbox")){var t=i.normalizeName($(this).attr("name"));if(t!=n)return!0}$(this).removeClass("has-error");$(this).parent(".input-group").removeClass("has-error");$(this).attr("aria-invalid",!1)})},setFormValue:function(n,t){var r=this,i=this.getData(n);if(t&&(i.type==="money"||i.type==="percent")&&(t=t.toFixed(2).replace(/\./g,",")),i.type==="multichoice"){$("input[type=checkbox]").each(function(){var i=r.normalizeName($(this).attr("name"));i==n&&($.inArray($(this).val(),t)?$(this).is(":checked")||$(this).prop("checked",!0):$(this).is(":checked")&&$(this).prop("checked",!1))});return}$("input[name="+n+"], select[name="+n+"], span[id="+n+"]").each(function(){$(this).is("span")?$(this).text(r.formatValue(i)):$(this).is("select")?$(this).val()!=t&&$(this).val(t):$(this).is(":radio")?($(this).val([t]),$(this).parent("label").parent("fieldset").find("label.choice").removeClass("checked"),$(this).is(":checked")&&$(this).parent("label").addClass("checked")):$(this).is(":checkbox")?$(this).val()!=t&&$(this).val(t):$(this).hasClass("listbox-input")?$(this).val()!=t&&($(this).val(t),$(this).listbox("update")):$(this).val()!=t&&$(this).val(t)})},resetDataValue:function(n){n.value=n.type==="multichoice"?[]:""},unsetValue:function(n,t){var i=this.getData(n),r,u;t&&i&&i.type==="multichoice"&&!$.isArray(t)&&(r=i.value?i.value:[],u=$.inArray(t,r),u>=0&&(r.splice(u,1),this.variables[n]=i.value=r,this.validate(n),this.simu.memo&&this.simu.memo=="1"&&i.memorize&&i.memorize=="1"&&($.cookie(n)&&$.cookie(n)==t||$.cookie(n,t,{expires:365,path:this.basePath})),this.lastUserInputName="",this.reevaluateFields(n)))},setValue:function(n,t){var i=this.getData(n),u,r;($.isArray(t)||$.isPlainObject(t))&&i.type!="array"&&i.type!="multichoice"&&(u=t,t="",$.each(u,function(n,i){return t=i,!1}));t&&(i.type==="money"||i.type==="percent")&&(t=t.toString().replace(/,/g,"."),t=Math.round(parseFloat(t)*100)/100);t&&i.type==="multichoice"&&!$.isArray(t)&&(/\[\]$/.test(t)?t=JSON.parse(t):(r=i.value?i.value:[],r.push(t),t=r));this.variables[n]=i.value=t;this.validate(n);(n!==this.lastUserInputName||i.type==="integer"||i.type==="number"||i.type==="date")&&this.setFormValue(n,t);this.simu.memo&&this.simu.memo=="1"&&i.memorize&&i.memorize=="1"&&($.cookie(n)&&$.cookie(n)==t||$.cookie(n,t,{expires:365,path:this.basePath}));this.lastUserInputName="";this.reevaluateFields(n)},evaluate:function(n){var t=this.parser.parse(n);return t.postfix(),t.setVariables(this.variables),t.evaluate()},evaluateDefaults:function(){var n=this;$.each(n.simu.datas,function(t,i){if(typeof i.unparsedDefault!="undefined"&&i.unparsedDefault!==""){var r=n.evaluate(i.unparsedDefault);r!==!1&&(i.deflt=r)}})},reevaluateFields:function(n){var t=this,i=this.getData(n),r;typeof i.unparsedExplanation!="undefined"&&i.unparsedExplanation!==""&&(r=this.evaluate(i.unparsedExplanation),r===!1?$("#"+n+"-explanation").text(""):$("#"+n+"-explanation").html(r));i.dataDependencies&&$.each(i.dataDependencies,function(n,i){var u=t.getData(i),r;u.modifiedByUser&&u.value!==""||typeof u.unparsedContent=="undefined"||u.unparsedContent===""||(r=t.evaluate(u.unparsedContent),r!==!1&&(r&&u.type==="multichoice"&&!$.isArray(r)&&(r=/\[\]$/.test(r)?JSON.parse(r):[r]),u.value!==r&&t.setValue(i,r)))});i.noteDependencies&&$.each(i.noteDependencies,function(n,i){var u=t.getData(i),r,f,e;u.inputField&&(r=t.simu.step.panels[u.inputField[0]].fields[u.inputField[1]],r.prenote&&(f=t.replaceVariables(r.prenote),f!==!1&&$("#"+i+"-container .pre-note").html(f)),r.postnote&&(e=t.replaceVariables(r.postnote),e!==!1&&$("#"+i+"-container .post-note").html(e)))});i.sectionContentDependencies&&$.each(i.sectionContentDependencies,function(n,i){var u=i,f=i.replace(/-section-.*$/,""),e=i.replace(/-chapter-.*$/,""),r=t.simu.step.panels[e].chapters[f].sections[u].content;r=t.replaceVariablesOrBlank(r);$("#"+u+"-content").html(r)});i.footNoteDependencies&&($.each(i.footNoteDependencies,function(n,i){var u=t.simu.step.footnotes[i],f="#foot-note-"+i,r=t.replaceVariables(u.text);r!==!1&&$(f).html(r)}),$("div.foot-notes").children("div.foot-note").has(":visible")?$("div.foot-notes").show():$("div.foot-notes").hide());i.sourceDependencies&&$.each(i.sourceDependencies,function(n,i){var u=!0,e=t.simu.sources[i].parameters,f,r;$.each(e,function(n,i){if(i.origin==="data"&&i.optional=="0"){var r=t.getData(i.data);if(typeof r.value=="undefined"||r.value==="")return u=!1,!1}});u?(f=t.simu.sources[i].datasource.type,r=t.simu.sources[i].returnType,f==="uri"&&(r==="json"||r==="csv"||document.evaluate&&(r==="xml"||r==="html"))?t.getUriSource(i):t.getInternalSource(i)):t.populateChoiceDependencies(i,[])});i.rulesConditionsDependency&&$.each(i.rulesConditionsDependency,function(n){t.rulesengine.run(i.rulesConditionsDependency[n]-1,t.variables,function(n){n})});i.rulesActionsDependency&&$.each(i.rulesActionsDependency,function(n){t.rulesengine.run(i.rulesActionsDependency[n]-1,t.variables,function(n){n})})},formatParamValue:function(n){var u=this.getData(n.data),t,i,r;if(typeof u.value=="undefined"||u.value==="")return null;t=u.value;switch(u.type){case"date":i=n.format;i!=""&&t!=""&&(r=Date.createFromFormat("j/n/Y",t),t=r.format(i));break;case"day":i=n.format;i!=""&&t!=""&&(r=Date.createFromFormat("j/n/Y",t+"/1/2015"),t=r.format(i));break;case"month":i=n.format;i!=""&&t!=""&&(r=Date.createFromFormat("j/n/Y","1/"+t+"/2015"),t=r.format(i));break;case"year":i=n.format;i!=""&&t!=""&&(r=Date.createFromFormat("j/n/Y","1/1/"+t),t=r.format(i))}return t},str_getcsv:function(n,t,i,r){var s=[],h=function(n){return n.split("").reverse().join("")},e=function(n){return String(n).replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}=!<>\|:])/g,"\\$1")},u,o,f,c;for(t=t||",",i=i||'"',r=r||"\\",u=e(i),o=e(r),n=n.replace(new RegExp("^\\s*"+u),"").replace(new RegExp(u+"\\s*$"),""),n=h(n).split(new RegExp(u+"\\s*"+e(t)+"\\s*"+u+"(?!"+o+")","g")).reverse(),f=0,c=n.length;f<c;f++)s.push(h(n[f]).replace(new RegExp(o+u,"g"),i));return s},xmlToObject:function(n){var o,u,s,e,t,i,c,r;switch(n.nodeType){case 9:case 1:for(r={},o=n.attributes,u=0;u<o.length;u++)s=o.item(u),r[s.name]=s.value;var f=n.childNodes,h=n.attributes.length>0,l="";if(!h)for(t=0;t<f.length;t++)if(i=f.item(t),i.nodeType==3)l+=i.nodeValue;else if(i.nodeType==1||i.nodeType==2){h=!0;break}if(e={},h){for(t=0;t<f.length;t++)i=f.item(t),c=self.xmlToObject(i),c!=null&&(r[i.nodeName]=c);e[n.nodeName]=r}else e[n.nodeName]=l;return e;case 2:return r={},r[n.name]=n.value,r;case 3:return n.nodeValue;default:return null}},getUriSource:function(n){var t=this,e="",i="",o=[],u={},s=!0,c=t.simu.sources[n].parameters,f,h,r;if($.each(c,function(n,r){var f,h;if(f=r.origin=="data"?t.formatParamValue(r):r.constant,f==null){if(r.optional=="0")return s=!1,!1;f=""}r.type=="path"?(f!=""||r.optional=="0")&&(e+="/"+f.replace(/\s+/g,"+")):r.type=="data"?(h=r.name,u[h]?u[h].push(f):u[h]=[f],i+="&"+encodeURI(h)+"="+encodeURI(f)):r.type=="header"?f!=""&&o.push({name:r.name,value:f}):(f!=""||r.optional=="0")&&(u[r.name]=f,i+="&"+encodeURI(r.name)+"="+encodeURI(f))}),!s)return null;f=t.simu.sources[n].datasource.uri;e!=""&&(f+=encodeURI(e));i!=""&&(i=f+"?"+i.substr(1));t.urisCaches[i]?t.processSource(n,t.urisCaches[i]):(h=t.simu.sources[n].datasource.method,r=t.simu.sources[n].returnType,$.ajax({method:h,url:f,dataType:r,data:u,beforeSend:function(n){$.each(o,function(t,i){n.setRequestHeader(i.name,i.value)})}}).done(function(u){var f=t.simu.sources[n].returnPath,o,h,v,y,p,c,s,w,e,l;if(f=t.replaceVariables(f),r=="json")/^\\$/.test(f)?u=JSONPath({path:f,json:u}):(u=JSON.search(u,f),$.isArray(u)&&u.length==1&&(u=u[0]));else if(r=="csv"){var b=t.simu.sources[n].separator,k=t.simu.sources[n].delimiter,a=u.split(/\n/);for(u=[],o=0;o<a.length;o++)h=$.trim(a[o]),h!=""&&(v=t.str_getcsv(h,b,k),y=$.map(v,function(n){return $.trim(n)}),u.push(y));f&&(p=f.split("/"),$.each(p,function(n,t){u=u[parseInt(t,10)-1]}))}else if(r=="xml"||r=="html"){c=document.evaluate(f,$(u).get(0),null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);u=[];try{for(s=0,w=c.snapshotLength;s<w;s++){e=c.snapshotItem(s);switch(e.nodeType){case 9:case 1:u.push(t.xmlToObject(e));break;case 2:l={};l[e.name]=e.value;u.push(l);break;case 3:u.push(e.nodeValue)}}}catch(d){}$.isArray(u)&&u.length==1&&(u=u[0])}t.urisCaches[i]=u;t.processSource(n,u)}).fail(function(n,i){(n.status!=0&&n.status>=500||i==="timeout")&&t.setFatalError(Translator.trans("Data to continue this simulation are not accessible. Please try again later."))}))},getInternalSource:function(n){var t=this,i={},u,f,r,o,s,e,h;i.source=n;u=t.simu.sources[n].returnPath;f=t.replaceVariables(u);f!=u&&(i.returnPath=f);r=t.simu.sources[n].parameters;$.each(r,function(n,r){if(r.origin==="data"){var u=t.getData(r.data);typeof u.value!="undefined"&&u.value!==""&&(i[r.name]=u.value)}else r.origin==="constant"&&(i[r.name]=r.constant)});r=$.param(i);this.sourcesCaches[r]?(o=this.sourcesCaches[r],this.processSource(n,o)):(s=$("input[name=view]").eq(0).val(),e=$("input[name=_csrf_token]").eq(0).val(),e&&(i._csrf_token=e),h=$(location).attr("pathname").replace("/"+s,"").replace(/\/+$/,"")+"/Default/source",$.post(h,i,function(i){t.sourcesCaches[r]=i;t.processSource(n,i)},"json").fail(function(n,i){(n.status!=0&&n.status!=200||i==="timeout")&&t.setFatalError(Translator.trans("Data to continue this simulation are not accessible. Please try again later."))}))},processSource:function(n,t){var i=this;$.each(this.simu.datas,function(r,u){var e,f;typeof u.unparsedSource!="undefined"&&u.unparsedSource!==""&&(e=i.evaluate(u.unparsedSource),e==n&&(typeof u.unparsedIndex!="undefined"&&u.unparsedIndex!==""?(f=i.evaluate(u.unparsedIndex),f!==!1&&(t[f]?i.setValue(r,t[f]):i.setValue(r,t[f.toLowerCase()]))):i.setValue(r,t)))});this.populateChoiceDependencies(n,t)},populateChoiceDependencies:function(n,t){var i=this,r=this.simu.sources[n].choiceDependencies;r&&$.each(r,function(n,r){var h=i.getData(r).choices.source.valueColumn,c=i.getData(r).choices.source.labelColumn,f=$("#"+r),s,o,e,u;if(f.is("select")){f.empty();s=['<option value="">-----<\/option>'];for(e in t)u=t[e],s.push('<option value="',u[h],'">',u[c],"<\/option>");f.html(s.join(""))}else if(f.hasClass("listbox-input")){o=[];o.push({value:"",text:"-----",selected:!0});for(e in t)u=t[e],o.push({value:u[h],text:u[c]});f.listbox("setItems",o)}i.setValue(r,"")})},validateAll:function(){var t=this,n=!0;return this.hasError=!1,$.each(this.simu.datas,function(i){n=t.validate(i)&&n}),n&&this.rulesengine.runAll(this.variables,function(n){n}),n&&!this.hasError},processFields:function(){var n,t,r,i;this.variables.script=1;this.variables.dynamic=1;this.evaluateDefaults();n=this;$("#g6k_form input[type!=checkbox][type!=radio][name], #g6k_form input:radio:checked[name], #g6k_form input:checkbox:checked[name], #g6k_form select[name], #g6k_form textarea[name]").each(function(){var i=n.normalizeName($(this).attr("name")),u=n.getData(i),t,r;u&&(t=$(this).val(),($(this).attr("type")==="money"||$(this).attr("type")==="percent")&&(t=t.replace(/,/g,".")),u.type==="multichoice"&&($(this).attr("type")==="checkbox"?(r=n.variables[i]||[],r.push(t),t=r):/^\[.*\]$/.test(t)&&(t=JSON.parse(t))),n.variables[i]=t)});t=[];$.each(this.simu.rules,function(n,i){t.push({conditions:i.conditions,ifActions:i.ifdata,elseActions:i.elsedata})});r={notifyError:function(t){var i=t.find("message"),f=t.find("target"),r,u;switch(f){case"data":r=t.find("target","fieldName");n.setError(r,n.replaceVariables(i));break;case"datagroup":u=t.find("target","datagroupName");n.setGroupError(u,n.replaceVariables(i));break;case"dataset":n.setGlobalError(n.replaceVariables(i))}},notifyWarning:function(t){var i=t.find("message"),f=t.find("target"),r,u;switch(f){case"data":r=t.find("target","fieldName");n.setWarning(r,n.replaceVariables(i));break;case"datagroup":u=t.find("target","datagroupName");n.setGroupWarning(u,n.replaceVariables(i));break;case"dataset":n.setGlobalWarning(n.replaceVariables(i))}},setAttribute:function(t){var f=t.find("attributeId"),i=t.find("attributeId","fieldName"),u=t.find("attributeId","fieldName","newValue"),t,r;switch(f){case"content":t=n.getData(i);t.unparsedContent=u;t.unparsedContent!==""?t.modifiedByUser&&t.value&&t.value.length!=0||(r=n.evaluate(t.unparsedContent),r!==!1&&(r&&t.type==="multichoice"&&!$.isArray(r)&&(r=/\[\]$/.test(r)?JSON.parse(r):[r]),t.value!==r&&n.setValue(i,r))):t.value!==""&&n.setValue(i,"");break;case"default":n.getData(i).unparsedDefault=u;break;case"explanation":n.getData(i).unparsedExplanation=u;break;case"index":n.getData(i).unparsedIndex=u;n.reevaluateFields(i);break;case"min":n.getData(i).unparsedMin=u;break;case"max":n.getData(i).unparsedMax=u;break;case"source":n.getData(i).unparsedSource=u}},unsetAttribute:function(t){var r=t.find("attributeId"),i=t.find("attributeId","fieldName"),t;switch(r){case"content":t=n.getData(i);t.unparsedContent="";t.value!==""&&n.setValue(i,"");break;case"default":n.getData(i).unparsedDefault="";break;case"explanation":n.getData(i).unparsedExplanation="";break;case"index":n.getData(i).unparsedIndex="";n.reevaluateFields(i);break;case"min":n.getData(i).unparsedMin="";break;case"max":n.getData(i).unparsedMax="";break;case"source":n.getData(i).unparsedSource=""}},hideObject:function(t){var y=$("input[name=step]").eq(0).val(),p=t.find("objectId"),w=t.find("objectId","stepId"),r,i,o,s,l,a,v,u;if(w==y)switch(p){case"panel":i=t.find("objectId","stepId","panelId");$("#"+n.simu.step.name+"-panel-"+i).hide();break;case"fieldset":i=t.find("objectId","stepId","panelId");r=t.find("objectId","stepId","panelId","fieldsetId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).hide();break;case"fieldrow":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),b=t.find("objectId","stepId","panelId","fieldsetId","fieldrowId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r+"-fieldrow-"+b).hide();break;case"field":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),e=t.find("objectId","stepId","panelId","fieldsetId","fieldId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).find("div[data-field-position="+e+"]").hide();break;case"blockinfo":i=t.find("objectId","stepId","panelId");o=t.find("objectId","stepId","panelId","blockinfoId");$("#"+n.simu.step.name+"-panel-"+i+"-blockinfo-"+o).hide();break;case"chapter":var i=t.find("objectId","stepId","panelId"),o=t.find("objectId","stepId","panelId","blockinfoId"),c=t.find("objectId","stepId","panelId","blockinfoId","chapterId");$("#"+n.simu.step.name+"-panel-"+i+"-blockinfo-"+o+"-chapter-"+c).hide();break;case"section":var i=t.find("objectId","stepId","panelId"),o=t.find("objectId","stepId","panelId","blockinfoId"),c=t.find("objectId","stepId","panelId","blockinfoId","chapterId"),k=t.find("objectId","stepId","panelId","blockinfoId","chapterId","sectionId");$("#"+n.simu.step.name+"-panel-"+i+"-blockinfo-"+o+"-chapter-"+c+"-section-"+k).hide();break;case"prenote":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),e=t.find("objectId","stepId","panelId","fieldsetId","fieldId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).find("div[data-field-position="+e+"] .pre-note").hide();break;case"postnote":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),e=t.find("objectId","stepId","panelId","fieldsetId","fieldId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).find("div[data-field-position="+e+"] .post-note").hide();break;case"action":s=t.find("objectId","stepId","actionId");l="#g6k_form button[name="+s+"], #g6k_form input[name="+s+"]";$(l).hide();break;case"footnote":a=t.find("objectId","stepId","footnoteId");v="#foot-note-"+a;$(v).hide();$("div.foot-notes").has("div.foot-note:visible").length?$("div.foot-notes").show():$("div.foot-notes").hide();break;case"choice":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),e=t.find("objectId","stepId","panelId","fieldsetId","fieldId"),h=t.find("objectId","stepId","panelId","fieldsetId","fieldId","choiceId"),f=$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).find("div[data-field-position="+e+"]");f.attr("data-type")!=="choice"||f.attr("data-expanded")&&f.attr("data-expanded")!=="false"?(u=f.find("input[value="+h+"]"),u.parent("label").hide()):(u=f.find("input.listbox-input, select"),u.is("select")?u.hideOption(h):u.listbox("hideItem",h))}},showObject:function(t){var y=$("input[name=step]").eq(0).val(),p=t.find("objectId"),w=t.find("objectId","stepId"),r,i,o,s,l,a,v,u;if(w==y)switch(p){case"panel":i=t.find("objectId","stepId","panelId");$("#"+n.simu.step.name+"-panel-"+i).show();break;case"fieldset":i=t.find("objectId","stepId","panelId");r=t.find("objectId","stepId","panelId","fieldsetId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).show();break;case"fieldrow":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),b=t.find("objectId","stepId","panelId","fieldsetId","fieldrowId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r+"-fieldrow-"+b).show();break;case"field":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),e=t.find("objectId","stepId","panelId","fieldsetId","fieldId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).find("div[data-field-position="+e+"]").show();break;case"blockinfo":i=t.find("objectId","stepId","panelId");o=t.find("objectId","stepId","panelId","blockinfoId");$("#"+n.simu.step.name+"-panel-"+i+"-blockinfo-"+o).show();break;case"chapter":var i=t.find("objectId","stepId","panelId"),o=t.find("objectId","stepId","panelId","blockinfoId"),c=t.find("objectId","stepId","panelId","blockinfoId","chapterId");$("#"+n.simu.step.name+"-panel-"+i+"-blockinfo-"+o+"-chapter-"+c).show();break;case"section":var i=t.find("objectId","stepId","panelId"),o=t.find("objectId","stepId","panelId","blockinfoId"),c=t.find("objectId","stepId","panelId","blockinfoId","chapterId"),k=t.find("objectId","stepId","panelId","blockinfoId","chapterId","sectionId");$("#"+n.simu.step.name+"-panel-"+i+"-blockinfo-"+o+"-chapter-"+c+"-section-"+k).show();break;case"prenote":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),e=t.find("objectId","stepId","panelId","fieldsetId","fieldId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).find("div[data-field-position="+e+"] .pre-note").show();break;case"postnote":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),e=t.find("objectId","stepId","panelId","fieldsetId","fieldId");$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).find("div[data-field-position="+e+"] .post-note").show();break;case"action":s=t.find("objectId","stepId","actionId");l="#g6k_form button[name="+s+"], #g6k_form input[name="+s+"]";$(l).show();break;case"footnote":a=t.find("objectId","stepId","footnoteId");v="#foot-note-"+a;$(v).show();$("div.foot-notes").show();break;case"choice":var i=t.find("objectId","stepId","panelId"),r=t.find("objectId","stepId","panelId","fieldsetId"),e=t.find("objectId","stepId","panelId","fieldsetId","fieldId"),h=t.find("objectId","stepId","panelId","fieldsetId","fieldId","choiceId"),f=$("#"+n.simu.step.name+"-panel-"+i+"-fieldset-"+r).find("div[data-field-position="+e+"]");f.attr("data-type")!=="choice"||f.attr("data-expanded")&&f.attr("data-expanded")!=="false"?(u=f.find("input[value="+h+"]"),u.parent("label").show()):(u=f.find("input.listbox-input, select"),u.is("select")?u.showOption(h):u.listbox("showItem",h))}}};this.rulesengine=new RuleEngine({rulesData:t,actionsAdapter:r});this.rulesengine.runAll(this.variables,function(n){n});$(".simulator-profiles ul li").bind("click",function(){return n.setProfile($(this)),!0});$(".simulator-profiles ul li").bind("keydown",function(t){return(t.keyCode==13||t.keyCode==32)&&n.setProfile($(this)),!0});$("#g6k_form input[name], #g6k_form select[name], #g6k_form textarea[name]").change(function(){var t=n.normalizeName($(this).attr("name")),r,i;n.lastUserInputName=t;r=n.getData(t);r.modifiedByUser=!0;n.removeGlobalError();i=$(this).val();$(this).attr("type")==="checkbox"?r.type==="boolean"?(i=$(this).is(":checked")?"true":"false",n.setValue(t,i)):r.type==="multichoice"&&($(this).is(":checked")?n.setValue(t,i):n.unsetValue(t,i)):n.setValue(t,i)});$("#g6k_form input[name], #g6k_form select[name], #g6k_form textarea[name]").focusout(function(){var t=n.normalizeName($(this).attr("name")),i=n.getData(t);if(!n.check(i))switch(i.type){case"date":n.setError(t,Translator.trans("This value is not in the expected format (%format%)",{format:"jj/mm/aaaa"},"messages"));break;case"number":n.setError(t,Translator.trans("This value is not in the expected format (%format%)",{format:"chiffres seulement"},"messages"));break;case"integer":n.setError(t,Translator.trans("This value is not in the expected format (%format%)",{format:"chiffres seulement"},"messages"));break;case"money":n.setError(t,Translator.trans("This value is not in the expected format (%format%)",{format:"montant"},"messages"));break;case"percent":n.setError(t,Translator.trans("This value is not in the expected format (%format%)",{format:"pourcentage"},"messages"));break;default:n.setError(t,Translator.trans("This value is not in the expected format"))}});$("#g6k_form input[type=text][name], #g6k_form input[type=money][name], #g6k_form input[type=number][name]").bind("keypress",function(t){t.keyCode==13&&(t.preventDefault(),n.getData($(this).attr("name")).modifiedByUser=!0,$(this).trigger("change"),$(this).focusNextInputField())});$("#g6k_form input[type=text][name], #g6k_form input[type=money][name], #g6k_form input[type=number][name]").bind("input propertychange",function(){var t=this;typeof i!="undefined"&&clearTimeout(i);n.getData($(this).attr("name")).modifiedByUser=!0;i=setTimeout(function(){$(t).trigger("change")},500)});$("#g6k_form input[type=text][name], #g6k_form input[type=money][name]").bind("paste",function(){var t=this;n.getData($(this).attr("name")).modifiedByUser=!0;setTimeout(function(){$(t).trigger("change");$(this).focusNextInputField()},0)});$("#g6k_form fieldset label.choice input[type=radio][name]").change(function(){var n=$(this).parent("label.choice");n.parent("fieldset").find("label.choice").removeClass("checked");$(this).is(":checked")&&n.addClass("checked")});$("#g6k_form fieldset label.choice input[type=radio][name]").focus(function(){var n=$(this).parent("label.choice"),t,i;n.parent("fieldset").addClass("focused");t=!1;i=$(this);n.parent("fieldset").find("label.choice input[type=radio][name]").each(function(){$(this).is(":checked")&&(t=!0)});t||n.eq(0).addClass("checked-candidate")});$("#g6k_form fieldset label.choice input[type=radio][name]").blur(function(){var n=$(this).parent("label.choice").parent("fieldset"),t=!1,i=$(this);n.find("label.choice input[type=radio][name]").each(function(){$(this).is(":focus")&&(t=!0)});t||n.removeClass("focused");n.find("label.choice").removeClass("checked-candidate")});$("#g6k_form").submit(function(t){var i=t.originalEvent.explicitOriginalTarget.name,r=n.simu.step.actions[i].what,u=n.simu.step.actions[i].for;if(r!="submit"||u!="priorStep"){if(r=="submit"&&u=="newSimulation"){$("#g6k_form").clearForm();$("input.resettable").val("");return}(n.hasFatalError||!n.validateAll())&&(n.setGlobalError(Translator.trans("To continue you must first correct your entry")),t.preventDefault())}});$.each(this.simu.datas,function(t,i){if(i.value=n.variables[t],typeof i.unparsedContent!="undefined"&&i.unparsedContent!==""){var r=n.evaluate(i.unparsedContent);r!==!1&&(r&&i.type==="multichoice"&&!$.isArray(r)&&(r=/\[\]$/.test(r)?JSON.parse(r):[r]),n.variables[t]=i.value=r)}});$("input[name='script']").val()==0?($.each(this.simu.datas,function(t){n.reevaluateFields(t)}),$("input[name='script']").val(1)):$.each(this.simu.datas,function(t){n.reevaluateFields(t)});$("div.foot-notes").children("div.foot-note").filter(":visible").length?$("div.foot-notes").show():$("div.foot-notes").hide()},choiceLabel:function(n){var t="";return n.choices&&$.each(n.choices,function(i,r){if(r[n.value])return t=r[n.value],!1}),t},formatValue:function(n){var t=n.value;return t&&$.isNumeric(t)&&(n.type==="money"||n.type==="percent")&&(t=accounting.formatNumber(parseFloat(t),2," ",",")),$.isArray(t)&&(t=t.join(", ")),t},replaceVariablesBase:function(n){var t=this,i=n.replace(/\<var\s+[^\s]*\s*data-id="(\d+)(L?)"[^\>]*\>[^\<]+\<\/var\>/g,function(n,i,r){var u=t.getDataNameById(i);return u?"#("+u+")"+r:n});return i.replace(/#\(([^\)]+)\)(L?)/g,function(n,i,r){var u=t.getData(i),f;return u&&u.value?r==="L"&&(f=t.choiceLabel(u),f!=="")?f:t.formatValue(u):n})},replaceVariables:function(n){var t=this.replaceVariablesBase(n);return/#\(([^\)]+)\)/.test(t)?!1:t},replaceVariablesOrBlank:function(n){var t=this,i=t.replaceVariablesBase(n);return i=i.replace(/#\(([^\)]+)\)(L?)/g,function(n,i){var r=t.getData(i),u,f;switch(r.type){case"integer":case"number":return"0";case"percent":case"money":return u=r.value,r.value="0",f=t.formatValue(r),r.value=u,f;default:return""}}),i.replace(/\<var\s+[^\s]*\s*data-id="(\d+)(L?)"[^\>]*\>[^\<]+\<\/var\>/g,function(n,i){var r=t.getData(i),u,f;switch(r.type){case"integer":case"number":return"0";case"percent":case"money":return u=r.value,r.value="0",f=t.formatValue(r),r.value=u,f;default:return""}})}};n.G6k=t}(this);$.fn.clearForm=function(){this.each(function(){var n=this.type,t=this.tagName.toLowerCase();if(t=="form")return $(":input",this).clearForm();n=="text"||n=="password"||n=="number"||t=="textarea"?(this.setAttribute("value",""),$(this).hasClass("listbox-input")&&$(this).listbox("update")):n=="checkbox"||n=="radio"?this.removeAttribute("checked"):(n=="select-one"||t=="select")&&($("option",this).each(function(){this.removeAttribute("selected")}),$(this).val(""))})};$.fn.focusNextInputField=function(){return this.each(function(){var n=$(this).parents("form:eq(0)").find("input:visible,textarea:visible,select:visible"),t=n.index(this);return t>-1&&t+1<n.length&&n.eq(t+1).focus(),!1})}